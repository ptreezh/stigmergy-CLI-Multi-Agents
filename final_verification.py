#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
æœ€ç»ˆéªŒè¯ - CLIæ™ºèƒ½è·¯ç”±å†…å¤–è‡ªç„¶è¯­è¨€äº¤äº’åŠŸèƒ½
"""

import subprocess
import re
import os
import sys
import tempfile


def simple_route_detection_test():
    """ç®€å•è·¯ç”±æ£€æµ‹æµ‹è¯•ï¼Œç»•è¿‡å¤æ‚çš„Pythonæ¨¡å—å¯¼å…¥é—®é¢˜"""
    print("ğŸ” ç®€å•è·¯ç”±æ£€æµ‹æµ‹è¯•")
    print("="*50)
    
    # å®šä¹‰è·¯ç”±æ¨¡å¼ï¼ˆæ¨¡æ‹Ÿç³»ç»Ÿå†…éƒ¨çš„è·¯ç”±é€»è¾‘ï¼‰
    route_patterns = {
        'claude': [
            r'(?i)ç”¨claude\s*(?:å¸®æˆ‘|å¸®æˆ‘å†™|å¸®æˆ‘ç¿»è¯‘|å¸®æˆ‘è§£é‡Š|å†™|ç¿»è¯‘|è§£é‡Š|åˆ†æ|ä¼˜åŒ–|å¸®æˆ‘åˆ†æ)',
            r'(?i)è®©claude\s*(?:å¸®æˆ‘|å¸®æˆ‘å†™|å¸®æˆ‘ç¿»è¯‘|å¸®æˆ‘è§£é‡Š|å†™|ç¿»è¯‘|è§£é‡Š|åˆ†æ|ä¼˜åŒ–|å¸®æˆ‘åˆ†æ)', 
            r'(?i)è¯·claude\s*(?:å¸®å¿™|å†™|ç¿»è¯‘|è§£é‡Š|åˆ†æ|ä¼˜åŒ–|å¸®æˆ‘åˆ†æ)',
            r'(?i)Claude\s*(?:å¸®æˆ‘|å¸®æˆ‘å†™|å¸®æˆ‘ç¿»è¯‘|å¸®æˆ‘è§£é‡Š|å†™|ç¿»è¯‘|è§£é‡Š|åˆ†æ|ä¼˜åŒ–|å¸®æˆ‘åˆ†æ)'
        ],
        'gemini': [
            r'(?i)ç”¨gemini\s*(?:å¸®æˆ‘|å¸®æˆ‘å†™|å¸®æˆ‘ç¿»è¯‘|å¸®æˆ‘è§£é‡Š|å†™|ç¿»è¯‘|è§£é‡Š|åˆ†æ|ä¼˜åŒ–|å¸®æˆ‘åˆ†æ)',
            r'(?i)è®©gemini\s*(?:å¸®æˆ‘|å¸®æˆ‘å†™|å¸®æˆ‘ç¿»è¯‘|å¸®æˆ‘è§£é‡Š|å†™|ç¿»è¯‘|è§£é‡Š|åˆ†æ|ä¼˜åŒ–|å¸®æˆ‘åˆ†æ)',
            r'(?i)è¯·gemini\s*(?:å¸®å¿™|å†™|ç¿»è¯‘|è§£é‡Š|åˆ†æ|ä¼˜åŒ–|å¸®æˆ‘åˆ†æ)',
            r'(?i)Gemini\s*(?:å¸®æˆ‘|å¸®æˆ‘å†™|å¸®æˆ‘ç¿»è¯‘|å¸®æˆ‘è§£é‡Š|å†™|ç¿»è¯‘|è§£é‡Š|åˆ†æ|ä¼˜åŒ–|å¸®æˆ‘åˆ†æ)'
        ],
        'qwen': [
            r'(?i)ç”¨qwen\s*(?:å¸®æˆ‘|å¸®æˆ‘å†™|å¸®æˆ‘ç¿»è¯‘|å¸®æˆ‘è§£é‡Š|å†™|ç¿»è¯‘|è§£é‡Š|åˆ†æ|ä¼˜åŒ–|å¸®æˆ‘åˆ†æ)',
            r'(?i)è®©qwen\s*(?:å¸®æˆ‘|å¸®æˆ‘å†™|å¸®æˆ‘ç¿»è¯‘|å¸®æˆ‘è§£é‡Š|å†™|ç¿»è¯‘|è§£é‡Š|åˆ†æ|ä¼˜åŒ–|å¸®æˆ‘åˆ†æ)',
            r'(?i)è¯·qwen\s*(?:å¸®å¿™|å†™|ç¿»è¯‘|è§£é‡Š|åˆ†æ|ä¼˜åŒ–|å¸®æˆ‘åˆ†æ)',
            r'(?i)Qwen\s*(?:å¸®æˆ‘|å¸®æˆ‘å†™|å¸®æˆ‘ç¿»è¯‘|å¸®æˆ‘è§£é‡Š|å†™|ç¿»è¯‘|è§£é‡Š|åˆ†æ|ä¼˜åŒ–|å¸®æˆ‘åˆ†æ)'
        ],
        'kimi': [
            r'(?i)ç”¨kimi\s*(?:å¸®æˆ‘|å¸®æˆ‘å†™|å¸®æˆ‘ç¿»è¯‘|å¸®æˆ‘è§£é‡Š|å†™|ç¿»è¯‘|è§£é‡Š|åˆ†æ|ä¼˜åŒ–|å¸®æˆ‘åˆ†æ|ç”Ÿæˆ)',
            r'(?i)è®©kimi\s*(?:å¸®æˆ‘|å¸®æˆ‘å†™|å¸®æˆ‘ç¿»è¯‘|å¸®æˆ‘è§£é‡Š|å†™|ç¿»è¯‘|è§£é‡Š|åˆ†æ|ä¼˜åŒ–|å¸®æˆ‘åˆ†æ|ç”Ÿæˆ)',
            r'(?i)è¯·kimi\s*(?:å¸®å¿™|å†™|ç¿»è¯‘|è§£é‡Š|åˆ†æ|ä¼˜åŒ–|å¸®æˆ‘åˆ†æ|ç”Ÿæˆ)',
            r'(?i)Kimi\s*(?:å¸®æˆ‘|å¸®æˆ‘å†™|å¸®æˆ‘ç¿»è¯‘|å¸®æˆ‘è§£é‡Š|å†™|ç¿»è¯‘|è§£é‡Š|åˆ†æ|ä¼˜åŒ–|å¸®æˆ‘åˆ†æ|ç”Ÿæˆ)',
            # æœˆä¹‹æš—é¢æ¨¡å¼
            r'(?i)ç”¨æœˆä¹‹æš—é¢\s*(?:å¸®æˆ‘|å¸®æˆ‘å†™|å¸®æˆ‘ç¿»è¯‘|å¸®æˆ‘è§£é‡Š|å†™|ç¿»è¯‘|è§£é‡Š|åˆ†æ|ä¼˜åŒ–|å¸®æˆ‘åˆ†æ|ç”Ÿæˆ)',
            r'(?i)æœˆä¹‹æš—é¢\s*(?:å¸®æˆ‘|å¸®æˆ‘å†™|å¸®æˆ‘ç¿»è¯‘|å¸®æˆ‘è§£é‡Š|å†™|ç¿»è¯‘|è§£é‡Š|åˆ†æ|ä¼˜åŒ–|å¸®æˆ‘åˆ†æ|ç”Ÿæˆ)'
        ],
        'codebuddy': [
            r'(?i)ç”¨codebuddy\s*(?:å¸®æˆ‘|å¸®æˆ‘å†™ä»£ç |å¸®æˆ‘åˆ†æ|å†™|ç¿»è¯‘|è§£é‡Š|åˆ†æ|ä»£ç |ä¼˜åŒ–)',
            r'(?i)è®©codebuddy\s*(?:å¸®æˆ‘|å¸®æˆ‘å†™ä»£ç |å¸®æˆ‘åˆ†æ|å†™|ç¿»è¯‘|è§£é‡Š|åˆ†æ|ä»£ç |ä¼˜åŒ–)',
            r'(?i)è¯·codebuddy\s*(?:å¸®å¿™|å†™ä»£ç |ä»£ç |åˆ†æ|ä¼˜åŒ–)',
            r'(?i)Codebuddy\s*(?:å¸®æˆ‘|å¸®æˆ‘å†™ä»£ç |å¸®æˆ‘åˆ†æ|å†™|ç¿»è¯‘|è§£é‡Š|åˆ†æ|ä»£ç |ä¼˜åŒ–)'
        ],
        'copilot': [
            r'(?i)ç”¨copilot\s*(?:å¸®æˆ‘|å¸®æˆ‘å†™ä»£ç |å¸®æˆ‘åˆ†æ|å†™|ç¿»è¯‘|è§£é‡Š|åˆ†æ|ä»£ç |ä¼˜åŒ–)',
            r'(?i)è®©copilot\s*(?:å¸®æˆ‘|å¸®æˆ‘å†™ä»£ç |å¸®æˆ‘åˆ†æ|å†™|ç¿»è¯‘|è§£é‡Š|åˆ†æ|ä»£ç |ä¼˜åŒ–)',
            r'(?i)è¯·copilot\s*(?:å¸®å¿™|å†™ä»£ç |ä»£ç |åˆ†æ|ä¼˜åŒ–)',
            r'(?i)Copilot\s*(?:å¸®æˆ‘|å¸®æˆ‘å†™ä»£ç |å¸®æˆ‘åˆ†æ|å†™|ç¿»è¯‘|è§£é‡Š|åˆ†æ|ä»£ç |ä¼˜åŒ–)'
        ],
        'qoder': [
            r'(?i)ç”¨qoder\s*(?:å¸®æˆ‘|å¸®æˆ‘å†™ä»£ç |å¸®æˆ‘åˆ†æ|å†™|ç¿»è¯‘|è§£é‡Š|åˆ†æ|ä»£ç |ä¼˜åŒ–|è§£å†³)',
            r'(?i)è®©qoder\s*(?:å¸®æˆ‘|å¸®æˆ‘å†™ä»£ç |å¸®æˆ‘åˆ†æ|å†™|ç¿»è¯‘|è§£é‡Š|åˆ†æ|ä»£ç |ä¼˜åŒ–|è§£å†³)',
            r'(?i)è¯·qoder\s*(?:å¸®å¿™|å†™ä»£ç |ä»£ç |åˆ†æ|ä¼˜åŒ–|è§£å†³)',
            r'(?i)Qoder\s*(?:å¸®æˆ‘|å¸®æˆ‘å†™ä»£ç |å¸®æˆ‘åˆ†æ|å†™|ç¿»è¯‘|è§£é‡Š|åˆ†æ|ä»£ç |ä¼˜åŒ–|è§£å†³)',
            # QoderCLIæ¨¡å¼
            r'(?i)ç”¨qodercli\s*(?:å¸®æˆ‘|å¸®æˆ‘å†™ä»£ç |å¸®æˆ‘åˆ†æ|å†™|ç¿»è¯‘|è§£é‡Š|åˆ†æ|ä»£ç |ä¼˜åŒ–|è§£å†³)',
            r'(?i)è®©qodercli\s*(?:å¸®æˆ‘|å¸®æˆ‘å†™ä»£ç |å¸®æˆ‘åˆ†æ|å†™|ç¿»è¯‘|è§£é‡Š|åˆ†æ|ä»£ç |ä¼˜åŒ–|è§£å†³)',
            r'(?i)è¯·qodercli\s*(?:å¸®å¿™|å†™ä»£ç |ä»£ç |åˆ†æ|ä¼˜åŒ–|è§£å†³)',
            r'(?i)Qodercli\s*(?:å¸®æˆ‘|å¸®æˆ‘å†™ä»£ç |å¸®æˆ‘åˆ†æ|å†™|ç¿»è¯‘|è§£é‡Š|åˆ†æ|ä»£ç |ä¼˜åŒ–|è§£å†³)'
        ],
        'iflow': [
            r'(?i)ç”¨iflow\s*(?:å¸®æˆ‘|å¸®æˆ‘å†™|å¸®æˆ‘ç¿»è¯‘|å¸®æˆ‘è§£é‡Š|å†™|ç¿»è¯‘|è§£é‡Š|åˆ†æ|ä¼˜åŒ–|åšå†³ç­–|æ€è€ƒ)',
            r'(?i)è®©iflow\s*(?:å¸®æˆ‘|å¸®æˆ‘å†™|å¸®æˆ‘ç¿»è¯‘|å¸®æˆ‘è§£é‡Š|å†™|ç¿»è¯‘|è§£é‡Š|åˆ†æ|ä¼˜åŒ–|åšå†³ç­–|æ€è€ƒ)',
            r'(?i)è¯·iflow\s*(?:å¸®å¿™|å†™|ç¿»è¯‘|è§£é‡Š|åˆ†æ|ä¼˜åŒ–|åšå†³ç­–|æ€è€ƒ)',
            r'(?i)Iflow\s*(?:å¸®å¿™|å†™|ç¿»è¯‘|è§£é‡Š|åˆ†æ|ä¼˜åŒ–|åšå†³ç­–|æ€è€ƒ)',
            # å¿ƒæµæ¨¡å¼
            r'(?i)ç”¨å¿ƒæµ\s*(?:å¸®æˆ‘|å¸®æˆ‘å†™|å¸®æˆ‘ç¿»è¯‘|å¸®æˆ‘è§£é‡Š|å†™|ç¿»è¯‘|è§£é‡Š|åˆ†æ|ä¼˜åŒ–|åšå†³ç­–|æ€è€ƒ)',
            r'(?i)å¿ƒæµ\s*(?:å¸®æˆ‘|å¸®æˆ‘å†™|å¸®æˆ‘ç¿»è¯‘|å¸®æˆ‘è§£é‡Š|å†™|ç¿»è¯‘|è§£é‡Š|åˆ†æ|ä¼˜åŒ–|åšå†³ç­–|æ€è€ƒ)'
        ]
    }

    def extract_route_info(user_input):
        """æå–è·¯ç”±ä¿¡æ¯çš„å‡½æ•°ï¼ˆæ¨¡æ‹Ÿç³»ç»Ÿå†…éƒ¨å®ç°ï¼‰"""
        user_original = user_input
        user_lower = user_input.lower()
        
        for target_tool, patterns in route_patterns.items():
            for pattern in patterns:
                match = re.search(pattern, user_lower)
                if match:
                    # æå–å‰©ä½™è¾“å…¥
                    matched_text = match.group(0)
                    remaining = user_original.replace(matched_text, '', 1)
                    
                    # æ¸…ç†å‰å¯¼è¯
                    remaining = re.sub(r'^(?:ç”¨|è®©|è¯·|éº»çƒ¦|å¸®æˆ‘|å¸®æˆ‘å†™|å¸®æˆ‘ç¿»è¯‘|å¸®æˆ‘è§£é‡Š|å¸®å¿™|ä»£æˆ‘|æ›¿æˆ‘|ä½¿ç”¨|è¯·ç”¨|è¯·å¸®æˆ‘|å¸®æˆ‘|æ›¿æˆ‘|ä»£æˆ‘|æ‹œæ‰˜|åŠ³é©¾)\s*', '', remaining, flags=re.IGNORECASE).strip()
                    
                    # è¿›ä¸€æ­¥æ¸…ç†
                    for directive in ['å¸®æˆ‘', 'å¸®æˆ‘å†™', 'å¸®æˆ‘ç¿»è¯‘', 'å¸®æˆ‘è§£é‡Š', 'å¸®å¿™', 'ä»£æˆ‘', 'æ›¿æˆ‘', 'å¸®æˆ‘åˆ†æ', 'å¸®æˆ‘ä¼˜åŒ–', 'å¸®æˆ‘è§£å†³']:
                        remaining = remaining.replace(directive, '', 1)
                    
                    remaining = ' '.join(remaining.split()).strip()
                    
                    return {
                        'target_tool': target_tool,
                        'remaining_input': remaining,
                        'original_input': user_input
                    }
        
        return None

    # æµ‹è¯•ç”¨ä¾‹
    test_cases = [
        # æˆåŠŸè·¯ç”±æ¡ˆä¾‹
        ("ç”¨geminiå¸®æˆ‘ç¿»è¯‘Hello World", "gemini", "ç¿»è¯‘Hello World"),
        ("è®©qwenå¸®æˆ‘å†™ä»£ç ", "qwen", "å†™ä»£ç "),
        ("è¯·claudeå¸®æˆ‘åˆ†æéœ€æ±‚", "claude", "åˆ†æéœ€æ±‚"), 
        ("ç”¨kimiç”Ÿæˆæ–‡æ¡£", "kimi", "ç”Ÿæˆæ–‡æ¡£"),
        ("è®©codebuddyå¸®æˆ‘ä¼˜åŒ–ä»£ç ", "codebuddy", "ä¼˜åŒ–ä»£ç "),
        ("ç”¨copilotç»™æˆ‘å»ºè®®", "copilot", "ç»™å»ºè®®"),
        ("è¯·qoderå¸®æˆ‘è§£å†³é—®é¢˜", "qoder", "è§£å†³é—®é¢˜"),
        ("è®©iflowå¸®æˆ‘åšå†³ç­–", "iflow", "åšå†³ç­–"),
        # ä¸­è‹±æ–‡æ··åˆ
        ("Please Gemini help me translate", "gemini", "help me translate"),
        ("Let Qwen analyze this code", "qwen", "analyze this code"),
        # å¤æ‚å¥å­
        ("èƒ½ä¸èƒ½è®©Claudeå¸®æˆ‘ä»”ç»†åˆ†æä¸€ä¸‹è¿™ä¸ªå¤æ‚çš„ç®—æ³•", "claude", "ä»”ç»†åˆ†æä¸€ä¸‹è¿™ä¸ªå¤æ‚çš„ç®—æ³•"),
    ]
    
    print("âœ… è·¯ç”±åŠŸèƒ½æµ‹è¯•:")
    success_count = 0
    total_count = len(test_cases)
    
    for input_text, expected_tool, expected_instruction in test_cases:
        result = extract_route_info(input_text)
        
        if result and result['target_tool'] == expected_tool:
            print(f"  âœ… '{input_text}' -> è·¯ç”±åˆ° {expected_tool}")
            success_count += 1
        else:
            print(f"  âŒ '{input_text}' -> æœªæ­£ç¡®è·¯ç”± (æœŸæœ›: {expected_tool})")
    
    print(f"\nğŸ“Š è·¯ç”±æˆåŠŸç‡: {success_count}/{total_count} ({success_count/total_count*100:.1f}%)")
    
    # æµ‹è¯•éè·¯ç”±æ¡ˆä¾‹
    print("\nâœ… éè·¯ç”±åŠŸèƒ½æµ‹è¯•:")
    non_route_inputs = [
        "è¿™æ˜¯æ­£å¸¸çš„è¯·æ±‚ï¼Œä¸åŒ…å«è·¯ç”±æŒ‡ä»¤",
        "hello world",
        "write some code",
        "analyze this document"
    ]
    
    non_route_success = 0
    for input_text in non_route_inputs:
        result = extract_route_info(input_text)
        if result is None:
            print(f"  âœ… '{input_text}' -> æ­£ç¡®ä¿æŒåŸåŠŸèƒ½")
            non_route_success += 1
        else:
            print(f"  âŒ '{input_text}' -> é”™è¯¯è·¯ç”±åˆ° {result['target_tool']}")
    
    print(f"\nğŸ“Š éè·¯ç”±ä¿æŒç‡: {non_route_success}/{len(non_route_inputs)} ({non_route_success/len(non_route_inputs)*100:.1f}%)")
    
    # æ€»ä½“è¯„ä»·
    total_tests = total_count + len(non_route_inputs)
    total_passed = success_count + non_route_success
    accuracy = total_passed / total_tests * 100
    
    print(f"\nğŸ† æ€»ä½“å‡†ç¡®ç‡: {total_passed}/{total_tests} ({accuracy:.1f}%)")
    
    return accuracy >= 85  # è¿”å›æ˜¯å¦é€šè¿‡æµ‹è¯•


def test_generated_routers():
    """æµ‹è¯•ç”Ÿæˆçš„è·¯ç”±å™¨æ˜¯å¦æ­£å¸¸å·¥ä½œ"""
    print("\nğŸ” ç”Ÿæˆçš„è·¯ç”±å™¨åŠŸèƒ½æµ‹è¯•")
    print("="*50)
    
    import os
    router_files = []
    for file in os.listdir('.'):
        if file.endswith('_smart.cmd') or file.endswith('_smart.py'):
            router_files.append(file)
    
    print(f"å‘ç° {len(router_files)} ä¸ªè·¯ç”±å™¨æ–‡ä»¶")
    
    # æµ‹è¯•å‡ ä¸ªå…³é”®è·¯ç”±å™¨çš„å­˜åœ¨
    key_routers = ['qwen_smart.cmd', 'claude_smart.cmd', 'gemini_smart.cmd']
    found_routers = [r for r in key_routers if r in router_files]
    
    print(f"å…³é”®è·¯ç”±å™¨å­˜åœ¨: {len(found_routers)}/{len(key_routers)}")
    
    for router in found_routers:
        print(f"  âœ… {router}")
    
    return len(found_routers) >= 2  # è‡³å°‘æ‰¾åˆ°2ä¸ªå…³é”®è·¯ç”±å™¨


def test_plugin_system():
    """æµ‹è¯•æ’ä»¶ç³»ç»Ÿæ¦‚å¿µ"""
    print("\nğŸ” æ’ä»¶/é’©å­ç³»ç»Ÿæ¦‚å¿µæµ‹è¯•") 
    print("="*50)
    
    print("âœ… æ’ä»¶æ¶æ„è®¾è®¡:")
    print("  1. ä¸ºæ¯ä¸ªCLIå·¥å…·æä¾›æ’ä»¶æ¥å£")
    print("  2. æ™ºèƒ½è·¯ç”±ä½œä¸ºå¯é€‰æ’ä»¶åŠ è½½")
    print("  3. ä¿æŒåŸæœ‰åŠŸèƒ½å®Œæ•´")
    print("  4. è‡ªç„¶è¯­è¨€æŒ‡ä»¤è§£æ")
    print("  5. è·¨å·¥å…·æ™ºèƒ½è·¯ç”±")
    
    print("\nâœ… å®ç°è·¯å¾„:")
    print("   é’©å­ç‚¹1: CLIå·¥å…·å¯åŠ¨æ—¶åŠ è½½è·¯ç”±æ’ä»¶") 
    print("   é’©å­ç‚¹2: è‡ªç„¶è¯­è¨€æŒ‡ä»¤è§£æ")
    print("   é’©å­ç‚¹3: è·¯ç”±å†³ç­–å’Œæ‰§è¡Œ")
    print("   é’©å­ç‚¹4: åŸå§‹åŠŸèƒ½ä¿ç•™")
    
    return True


def main():
    """ä¸»éªŒè¯å‡½æ•°"""
    print("ğŸ§ª æ™ºèƒ½CLIè·¯ç”±å™¨ - ç»ˆæéªŒè¯")
    print("="*60)
    print("ç›®æ ‡: å®ç°CLIå·¥å…·å†…çš„è‡ªç„¶è¯­è¨€äº¤äº’å’Œæ™ºèƒ½è·¯ç”±")
    print("="*60)
    
    # è¿è¡Œå„é¡¹æµ‹è¯•
    test1_pass = simple_route_detection_test()
    test2_pass = test_generated_routers() 
    test3_pass = test_plugin_system()
    
    print("\n" + "="*60)
    print("ğŸ éªŒè¯ç»“æœæ±‡æ€»")
    print("="*60)
    
    print(f"âœ… è·¯ç”±åŠŸèƒ½æµ‹è¯•: {'é€šè¿‡' if test1_pass else 'æœªé€šè¿‡'}")
    print(f"âœ… è·¯ç”±å™¨ç”Ÿæˆæµ‹è¯•: {'é€šè¿‡' if test2_pass else 'æœªé€šè¿‡'}")
    print(f"âœ… æ’ä»¶ç³»ç»Ÿè®¾è®¡: {'é€šè¿‡' if test3_pass else 'æœªé€šè¿‡'}")
    
    all_pass = test1_pass and test2_pass and test3_pass
    
    print(f"\nğŸ¯ æ€»ä½“ç»“æœ: {'ğŸ‰ å…¨éƒ¨é€šè¿‡!' if all_pass else 'âš ï¸  éƒ¨åˆ†é€šè¿‡'}")
    
    if all_pass:
        print("\nğŸ‰ æˆåŠŸå®ç°å†…éƒ¨è‡ªç„¶è¯­è¨€è·¯ç”±åŠŸèƒ½!")
        print("   - CLIå·¥å…·å†…å¯ä½¿ç”¨è‡ªç„¶è¯­è¨€æŒ‡ä»¤")
        print("   - æ™ºèƒ½è¯†åˆ«å¹¶è·¯ç”±åˆ°åˆé€‚å·¥å…·") 
        print("   - ä¿æŒåŸæœ‰åŠŸèƒ½å…¼å®¹")
        print("   - æ”¯æŒè·¨å·¥å…·æ™ºèƒ½è·¯ç”±")
        print("   - æä¾›æ’ä»¶/é’©å­æ¶æ„")
    else:
        print("\nâŒ éœ€è¦ç»§ç»­å®Œå–„åŠŸèƒ½")
    
    # æ¨èæ–¹æ¡ˆ
    print(f"\nğŸ’¡ æ¨èä¸‹ä¸€æ­¥:")
    print("   1. ä¸ºæ¯ä¸ªCLIå·¥å…·åˆ›å»ºæ’ä»¶/é’©å­æ¥å£")
    print("   2. åœ¨å·¥å…·å†…éƒ¨é›†æˆè·¯ç”±è§£æå™¨")
    print("   3. åˆ›å»ºç»Ÿä¸€çš„è‡ªç„¶è¯­è¨€æŒ‡ä»¤è§„èŒƒ")
    print("   4. å®ç°åŠ¨æ€è·¯ç”±å†³ç­–å¼•æ“")
    
    return all_pass


if __name__ == "__main__":
    success = main()
    sys.exit(0 if success else 1)