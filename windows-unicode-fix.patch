diff --git a/CLAUDE.md b/CLAUDE.md
index 417bdcc..3955953 100644
--- a/CLAUDE.md
+++ b/CLAUDE.md
@@ -1,195 +1,37 @@
-# CLAUDE.md
-
-This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.
-
-## Project Overview
-
-This is the **AI CLI Universal Integration System** (smart-cli-router) - a sophisticated cross-CLI integration system that enables direct calling between different AI CLI tools using their native extension mechanisms. The system implements a dual-function approach:
-
-1. **Cross-CLI Direct Calling**: Users can naturally call other AI CLI tools from within any supported CLI
-2. **Indirect Collaboration**: AI tools can collaborate based on PROJECT_SPEC.json for coordinated task execution
-
-### Strict Constraints (Non-negotiable)
-- âŒ **No wrapper-based solutions** - Must use native CLI extension mechanisms
-- âŒ **No changes to CLI startup/usage** - Users continue using CLI tools normally
-- âŒ **No VS Code dependency** - Pure command-line solution
-- âœ… **Native integration only** - Each CLI uses its optimal official extension method
-
-## Development Commands
-
-### Testing
-```bash
-# Run all tests
-pytest
-
-# Run specific test suites
-pytest tests/unit/          # Unit tests only
-pytest tests/integration/   # Integration tests only
-
-# Run tests with coverage
-pytest --cov=src --cov-report=html
-
-# Run TDD-style (watch for changes)
-pytest -f  # Requires pytest-watch
-```
-
-### Code Quality
-```bash
-# Format code
-black src/ tests/
-
-# Type checking
-mypy src/
-
-# Linting
-pylint src/
-flake8 src/
-
-# Security scan
-bandit -r src/
-```
-
-### Project Setup
-```bash
-# Install dependencies
-pip install -r requirements.txt
-
-# Development installation
-pip install -e .
-
-# Run specific adapter tests
-python -m pytest tests/unit/adapters/test_claude_adapter.py -v
-```
-
-## Architecture Overview
-
-### Core Components (`src/core/`)
-
-**BaseAdapter** (`base_adapter.py`): Abstract base class defining the interface for all CLI adapters
-- `execute_task(task, context)`: Main execution method
-- `is_available()`: Check if CLI tool is available
-- Provides health monitoring and statistics tracking
-
-**NaturalLanguageParser** (`parser.py`): Handles parsing of user input to detect cross-CLI intentions
-- Supports Chinese and English collaboration protocols
-- Pattern matching for CLI names and task extraction
-- Confidence scoring and intent validation
-
-**AdapterFactory**: Factory pattern for creating and managing CLI adapters
-- Lazy loading of adapters
-- Health check management for all adapters
-- Statistics collection across adapters
-
-### CLI Adapters (`src/adapters/`)
-
-Each CLI tool has a dedicated adapter using its native integration mechanism:
-
-**Claude CLI** (`adapters/claude/`): Uses official Hook system
-- `user_prompt_submit` hook for intercepting user input
-- `tool_use_pre/post` hooks for tool call processing
-- Configuration in `~/.config/claude/hooks.json`
-
-**QwenCodeCLI** (`adapters/qwencode/`): Uses Python class inheritance
-- Extends native QwenCodeCLI class
-- Overrides `process_command()` and `process_request()` methods
-- Maintains all original functionality
-
-**Gemini CLI** (`adapters/gemini/`): Uses official Extension interface
-- Implements `@extend('preprocessor')` decorator
-- Hooks into request processing pipeline
-- Configuration in `~/.config/gemini/extensions.json`
-
-**Other CLI tools** - Each using their optimal native approach (iFlow workflows, Qoder plugins, etc.)
-
-### Key Design Patterns
-
-1. **TDD-Driven Development**: All components have comprehensive tests first
-2. **Factory Pattern**: Centralized adapter creation and management
-3. **Hook-Based Integration**: Non-invasive extension of existing CLI tools
-4. **Async/Await**: All operations are asynchronous for performance
-5. **Error Isolation**: Adapter failures don't affect core CLI functionality
-
-## Testing Strategy
-
-### Test Structure
-```
-tests/
-â”œâ”€â”€ unit/           # Unit tests for individual components
-â”‚   â”œâ”€â”€ test_core/  # Core framework tests
-â”‚   â””â”€â”€ adapters/   # Adapter-specific tests
-â””â”€â”€ integration/    # Cross-component and end-to-end tests
-```
-
-### TDD Approach
-1. **Write tests first** - All functionality is specified in tests before implementation
-2. **Red-Green-Refactor** - Follow standard TDD cycle
-3. **High coverage target** - 90%+ for core components, 85%+ for adapters
-4. **Mock external dependencies** - Isolate tests from actual CLI tools
-
-### Running Tests
-Use `pytest` for all testing. Key test files:
-- `tests/unit/test_core/test_base_adapter.py` - Core adapter functionality
-- `tests/unit/adapters/test_claude_adapter.py` - Claude CLI adapter tests
-- `tests/integration/test_cross_cli_calls.py` - End-to-end integration tests
-
-## Development Workflow
-
-### Adding New CLI Adapters
-1. Create adapter directory: `src/adapters/{cli_name}/`
-2. Write tests: `tests/unit/adapters/test_{cli_name}_adapter.py`
-3. Implement adapter class inheriting from `BaseCrossCLIAdapter`
-4. Add adapter to factory in `base_adapter.py`
-5. Create integration tests
-6. Update documentation
-
-### Native Integration Requirements
-Each adapter must use the CLI's official native integration mechanism:
-- **Hook systems** (Claude CLI)
-- **Class inheritance** (QwenCodeCLI)
-- **Plugin architectures** (CodeBuddyCLI)
-- **Extension interfaces** (Gemini CLI, Codex CLI)
-- **Workflow scripts** (iFlowCLI)
-- **Environment variable hooks** (QoderCLI)
-
-### Configuration Management
-- Global config: `~/.config/ai-cli-unified/config.yml`
-- CLI-specific configs: `~/.config/{cli}/config.yml`
-- Adapter configs: `src/adapters/{cli}/config.json`
-
-## Important Implementation Details
-
-### Cross-CLI Call Detection
-The parser supports these protocols:
-- Chinese: "è¯·ç”¨{CLI}å¸®æˆ‘{task}", "è°ƒç”¨{CLI}æ¥{task}", "ç”¨{CLI}å¸®æˆ‘{task}"
-- English: "use {CLI} to {task}", "call {CLI} to {task}", "ask {CLI} for {task}"
-
-### Error Handling
-- Graceful degradation when CLI tools are unavailable
-- Error isolation between adapters
-- Comprehensive logging and debugging information
-- User-friendly error messages
-
-### Performance Considerations
-- Lazy loading of adapters
-- Async operations throughout
-- Minimal overhead on CLI operations (<100ms target)
-- Caching of adapter availability status
-
-### Security
-- No external API calls except to target CLI tools
-- Local-only processing and state management
-- Validation and sanitization of cross-CLI commands
-- Respect for existing CLI permission systems
-
-## Code Standards
-
-- Follow PEP 8 for Python code formatting
-- Use type hints for all function signatures
-- Comprehensive docstrings for all public methods
-- Async/await for all I/O operations
-- Error handling with specific exception types
-- Logging with appropriate levels throughout
-
-## Project Status
-
-This is a TDD-driven project currently in implementation phase. The architecture is fully designed and documented, with core components and several adapters already implemented. The system prioritizes native integration and zero-impact user experience above all other considerations.
\ No newline at end of file
+# claude CLI ä¸ Stigmergy åä½œç³»ç»Ÿ
+
+> claude CLI å·¥å…·ä¸å¤šAIå·¥å…·åä½œç³»ç»Ÿçš„é›†æˆæ–‡æ¡£
+> é¡¹ç›®è·¯å¾„: C:\stigmergy-CLI-Multi-Agents
+> åˆ›å»ºæ—¶é—´: 2025/11/29 16:09:53
+
+## ğŸ“‹ å·¥å…·ä¿¡æ¯
+- **åç§°**: claude
+- **ç‰ˆæœ¬**: 1.0.0
+- **é›†æˆç±»å‹**: hook_system
+- **é…ç½®æ–‡ä»¶**: N/A
+- **å…¨å±€æ–‡æ¡£**: N/A
+
+## ğŸŒ å¯ç”¨AIå·¥å…·
+å½“å‰é¡¹ç›®å¯ç”¨çš„AIå·¥å…·: claude, gemini, qwen, iflow, qoder, codebuddy, copilot, codex
+
+## ğŸ¤ AIå·¥å…·åä½œæŒ‡å—
+
+### ğŸ”„ è·¨AIå·¥å…·åä½œæŒ‡å—
+
+#### ä¸­æ–‡åä½œæŒ‡ä»¤
+
+- è¯·ç”¨geminiå¸®æˆ‘{this.getRandomTask()}
+- è¯·ç”¨qwenå¸®æˆ‘{this.getRandomTask()}
+- è¯·ç”¨iflowå¸®æˆ‘{this.getRandomTask()}
+
+#### è‹±æ–‡åä½œæŒ‡ä»¤
+
+- use gemini to å¤„ç†CSVæ•°æ®å¹¶ç”Ÿæˆå¯è§†åŒ–å›¾è¡¨
+- use qwen to åˆ›å»ºæ•°æ®åº“è¿ç§»è„šæœ¬
+- use iflow to ä¼˜åŒ–SQLæŸ¥è¯¢
+
+
+---
+
+**Generated by Stigmergy CLI at 2025-11-29T08:09:53.661Z**  
+**Repository: https://github.com/ptreezh/stigmergy-CLI-Multi-Agents.git**
\ No newline at end of file
diff --git a/src/adapters/claude/install_claude_integration.py b/src/adapters/claude/install_claude_integration.py
index 645fa33..2421224 100644
--- a/src/adapters/claude/install_claude_integration.py
+++ b/src/adapters/claude/install_claude_integration.py
@@ -217,14 +217,14 @@ def main():
     print("=" * 50)
 
     if args.uninstall:
-        print("ğŸ—‘ï¸ å¸è½½æ¨¡å¼...")
+        print("[UNINSTALL] å¸è½½æ¨¡å¼...")
         success = uninstall_claude_integration()
     elif args.verify:
-        print("ğŸ” éªŒè¯æ¨¡å¼...")
+        print("[VERIFY] éªŒè¯æ¨¡å¼...")
         success = verify_installation()
     elif args.install or len(sys.argv) == 1:
-        print("ğŸ“¦ å®‰è£…æ¨¡å¼...")
-        print("\nğŸ¯ ä¸ºClaude CLIå®‰è£…è·¨CLIåä½œæ„ŸçŸ¥èƒ½åŠ›")
+        print("[INSTALL] å®‰è£…æ¨¡å¼...")
+        print("\n[INFO] ä¸ºClaude CLIå®‰è£…è·¨CLIåä½œæ„ŸçŸ¥èƒ½åŠ›")
         print("è¿™å°†è®©Claude CLIèƒ½å¤Ÿ:")
         print("   - æ£€æµ‹è·¨CLIè°ƒç”¨æ„å›¾ (å¦‚: 'è¯·ç”¨geminiå¸®æˆ‘åˆ†æ')")
         print("   - è‡ªåŠ¨è·¯ç”±åˆ°ç›®æ ‡CLIå·¥å…·")
@@ -236,11 +236,11 @@ def main():
         create_claude_config_directory()
 
         # 2. å®‰è£…Hooké…ç½®
-        print("\n2ï¸âƒ£ å®‰è£…Hooké…ç½®...")
+        print("\nStep 2. å®‰è£…Hooké…ç½®...")
         hooks_success = install_claude_hooks()
 
         # 3. å¤åˆ¶é€‚é…å™¨æ–‡ä»¶
-        print("\n3ï¸âƒ£ å¤åˆ¶é€‚é…å™¨æ–‡ä»¶...")
+        print("\nStep 3. å¤åˆ¶é€‚é…å™¨æ–‡ä»¶...")
         adapter_success = copy_adapter_file()
 
         success = hooks_success and adapter_success
diff --git a/src/adapters/codebuddy/install_codebuddy_integration.py b/src/adapters/codebuddy/install_codebuddy_integration.py
index 2557727..4e6aa29 100644
--- a/src/adapters/codebuddy/install_codebuddy_integration.py
+++ b/src/adapters/codebuddy/install_codebuddy_integration.py
@@ -1,279 +1,279 @@
-"""
-CodeBuddy CLI Skillsé›†æˆå®‰è£…è„šæœ¬
-ä¸ºCodeBuddy CLIå®‰è£…è·¨CLIåä½œæ„ŸçŸ¥èƒ½åŠ›
-
-ä½¿ç”¨æ–¹æ³•ï¼š
-python install_codebuddy_integration.py [--verify|--uninstall]
-"""
-
-import os
-import sys
-import json
-import shutil
-import argparse
-from pathlib import Path
-from datetime import datetime
-
-# è·å–å½“å‰æ–‡ä»¶ç›®å½•
-current_dir = Path(__file__).parent
-project_root = current_dir.parent.parent.parent
-
-# CodeBuddy CLIé…ç½®è·¯å¾„
-CODEBUDDY_CONFIG_DIR = os.path.expanduser("~/.codebuddy")
-CODEBUDDY_CONFIG_FILE = os.path.join(CODEBUDDY_CONFIG_DIR, "buddy_config.json")
-
-def create_codebuddy_config_directory():
-    """åˆ›å»ºCodeBuddyé…ç½®ç›®å½•"""
-    os.makedirs(CODEBUDDY_CONFIG_DIR, exist_ok=True)
-    print(f"âœ… åˆ›å»ºCodeBuddyé…ç½®ç›®å½•: {CODEBUDDY_CONFIG_DIR}")
-
-def install_codebuddy_skills():
-    """å®‰è£…CodeBuddy Skillsé…ç½®"""
-    # è¯»å–ç°æœ‰buddy_configé…ç½®
-    existing_config = {}
-    if os.path.exists(CODEBUDDY_CONFIG_FILE):
-        try:
-            with open(CODEBUDDY_CONFIG_FILE, 'r', encoding='utf-8') as f:
-                existing_config = json.load(f)
-        except Exception as e:
-            print(f"âš ï¸ è¯»å–ç°æœ‰buddy_configé…ç½®å¤±è´¥: {e}")
-            existing_config = {}
-
-    # å®šä¹‰è·¨CLIåä½œçš„Skillsé…ç½®
-    cross_cli_skills = {
-        "cross_cli_skill": {
-            "name": "CrossCLICoordinationSkill",
-            "description": "Cross-CLIå·¥å…·åè°ƒæŠ€èƒ½",
-            "module": "src.adapters.codebuddy.skills_hook_adapter",
-            "class": "CodeBuddySkillsHookAdapter",
-            "enabled": True,
-            "priority": 100,
-            "triggers": [
-                "on_skill_activation",
-                "on_user_command"
-            ],
-            "config": {
-                "cross_cli_enabled": True,
-                "supported_clis": ["claude", "gemini", "qwencode", "iflow", "qoder", "copilot"],
-                "auto_route": True,
-                "timeout": 30,
-                "collaboration_mode": "active"
-            }
-        }
-    }
-
-    # åˆå¹¶é…ç½®ï¼ˆä¿ç•™ç°æœ‰skillsï¼Œæ·»åŠ åä½œåŠŸèƒ½ï¼‰
-    merged_config = existing_config.copy()
-    if 'skills' not in merged_config:
-        merged_config['skills'] = []
-
-    # æ£€æŸ¥æ˜¯å¦å·²å­˜åœ¨è·¨CLIåè°ƒæŠ€èƒ½
-    existing_skill_names = [skill.get('name') for skill in merged_config.get('skills', [])]
-    cross_cli_skill_name = "CrossCLICoordinationSkill"
-
-    if cross_cli_skill_name not in existing_skill_names:
-        merged_config['skills'].append(cross_cli_skills['cross_cli_skill'])
-
-    # å†™å…¥é…ç½®æ–‡ä»¶
-    try:
-        with open(CODEBUDDY_CONFIG_FILE, 'w', encoding='utf-8') as f:
-            json.dump(merged_config, f, indent=2, ensure_ascii=False)
-
-        print(f"âœ… CodeBuddyé…ç½®å·²å®‰è£…: {CODEBUDDY_CONFIG_FILE}")
-        print("ğŸ”— å·²å®‰è£…çš„Skills:")
-        for skill in merged_config.get('skills', []):
-            status = "âœ…" if skill.get('enabled') else "âŒ"
-            print(f"   - {skill.get('name')}: {status}")
-
-        return True
-    except Exception as e:
-        print(f"âŒ å®‰è£…CodeBuddyé…ç½®å¤±è´¥: {e}")
-        return False
-
-def copy_adapter_file():
-    """å¤åˆ¶é€‚é…å™¨æ–‡ä»¶åˆ°CodeBuddyé…ç½®ç›®å½•"""
-    try:
-        # åˆ›å»ºé€‚é…å™¨ç›®å½•
-        adapter_dir = CODEBUDDY_CONFIG_DIR
-        os.makedirs(adapter_dir, exist_ok=True)
-
-        # å¤åˆ¶é€‚é…å™¨æ–‡ä»¶
-        adapter_files = [
-            "skills_hook_adapter.py",
-            "standalone_codebuddy_adapter.py"
-        ]
-
-        for file_name in adapter_files:
-            src_file = current_dir / file_name
-            dst_file = os.path.join(adapter_dir, file_name)
-
-            if src_file.exists():
-                shutil.copy2(src_file, dst_file)
-                print(f"âœ… å¤åˆ¶é€‚é…å™¨æ–‡ä»¶: {file_name}")
-            else:
-                print(f"âš ï¸ é€‚é…å™¨æ–‡ä»¶ä¸å­˜åœ¨: {file_name}")
-
-        return True
-    except Exception as e:
-        print(f"âŒ å¤åˆ¶é€‚é…å™¨æ–‡ä»¶å¤±è´¥: {e}")
-        return False
-
-def verify_installation():
-    """éªŒè¯å®‰è£…æ˜¯å¦æˆåŠŸ"""
-    print("\nğŸ” éªŒè¯CodeBuddy CLIé›†æˆå®‰è£…...")
-
-    # æ£€æŸ¥é…ç½®æ–‡ä»¶
-    if not os.path.exists(CODEBUDDY_CONFIG_FILE):
-        print(f"âŒ é…ç½®æ–‡ä»¶ä¸å­˜åœ¨: {CODEBUDDY_CONFIG_FILE}")
-        return False
-
-    try:
-        with open(CODEBUDDY_CONFIG_FILE, 'r', encoding='utf-8') as f:
-            config = json.load(f)
-
-        skills = config.get('skills', [])
-        cross_cli_skill = None
-        for skill in skills:
-            if skill.get('name') == 'CrossCLICoordinationSkill':
-                cross_cli_skill = skill
-                break
-
-        if cross_cli_skill:
-            print("âœ… è·¨CLIåä½œSkillå·²å®‰è£…")
-            print(f"   - æŠ€èƒ½åç§°: {cross_cli_skill.get('name')}")
-            print(f"   - æè¿°: {cross_cli_skill.get('description')}")
-            print(f"   - å¯ç”¨çŠ¶æ€: {'âœ…' if cross_cli_skill.get('enabled') else 'âŒ'}")
-            print(f"   - æ”¯æŒçš„CLIå·¥å…·: {cross_cli_skill.get('config', {}).get('supported_clis', [])}")
-            print(f"   - è‡ªåŠ¨è·¯ç”±: {'âœ…' if cross_cli_skill.get('config', {}).get('auto_route') else 'âŒ'}")
-        else:
-            print("âŒ è·¨CLIåä½œSkillæœªæ‰¾åˆ°")
-            return False
-
-        # æ£€æŸ¥é€‚é…å™¨æ–‡ä»¶
-        required_files = ["skills_hook_adapter.py"]
-        missing_files = []
-
-        for file_name in required_files:
-            file_path = os.path.join(CODEBUDDY_CONFIG_DIR, file_name)
-            if not os.path.exists(file_path):
-                missing_files.append(file_name)
-
-        if missing_files:
-            print(f"âŒ ç¼ºå¤±é€‚é…å™¨æ–‡ä»¶: {missing_files}")
-            return False
-        else:
-            print("âœ… é€‚é…å™¨æ–‡ä»¶å·²å¤åˆ¶")
-
-        return True
-    except Exception as e:
-        print(f"âŒ éªŒè¯å¤±è´¥: {e}")
-        return False
-
-def uninstall_codebuddy_integration():
-    """å¸è½½CodeBuddyé›†æˆ"""
-    try:
-        # å¤‡ä»½ç°æœ‰é…ç½®
-        if os.path.exists(CODEBUDDY_CONFIG_FILE):
-            backup_file = f"{CODEBUDDY_CONFIG_FILE}.backup_{datetime.now().strftime('%Y%m%d_%H%M%S')}"
-            shutil.copy2(CODEBUDDY_CONFIG_FILE, backup_file)
-            print(f"ğŸ“¦ å·²å¤‡ä»½ç°æœ‰é…ç½®: {backup_file}")
-
-        # ç§»é™¤è·¨CLIåä½œSkill
-        config_updated = False
-        if os.path.exists(CODEBUDDY_CONFIG_FILE):
-            with open(CODEBUDDY_CONFIG_FILE, 'r+', encoding='utf-8') as f:
-                config = json.load(f)
-                skills = config.get('skills', [])
-
-                # ç§»é™¤è·¨CLIåä½œSkill
-                skills = [skill for skill in skills if skill.get('name') != 'CrossCLICoordinationSkill']
-
-                f.seek(0)
-                f.truncate()
-                json.dump({
-                    'skills': skills,
-                    'version': config.get('version', '1.0.0')
-                }, f, indent=2, ensure_ascii=False)
-                config_updated = True
-
-            print(f"ğŸ—‘ï¸ CodeBuddyè·¨CLIåä½œé›†æˆå·²å¸è½½")
-        return True
-    except Exception as e:
-        print(f"âŒ å¸è½½å¤±è´¥: {e}")
-        return False
-
-def main():
-    parser = argparse.ArgumentParser(
-        description="CodeBuddy CLIè·¨CLIåä½œé›†æˆå®‰è£…è„šæœ¬",
-        formatter_class=argparse.RawDescriptionHelpFormatter
-    )
-
-    parser.add_argument(
-        "--install",
-        action="store_true",
-        help="å®‰è£…CodeBuddy CLIè·¨CLIåä½œé›†æˆ"
-    )
-
-    parser.add_argument(
-        "--verify",
-        action="store_true",
-        help="éªŒè¯CodeBuddy CLIé›†æˆå®‰è£…"
-    )
-
-    parser.add_argument(
-        "--uninstall",
-        action="store_true",
-        help="å¸è½½CodeBuddy CLIè·¨CLIåä½œé›†æˆ"
-    )
-
-    args = parser.parse_args()
-
-    print("ğŸ”§ CodeBuddy CLIè·¨CLIåä½œé›†æˆå®‰è£…å™¨")
-    print("=" * 50)
-
-    if args.uninstall:
-        print("ğŸ—‘ï¸ å¸è½½æ¨¡å¼...")
-        success = uninstall_codebuddy_integration()
-    elif args.verify:
-        print("ğŸ” éªŒè¯æ¨¡å¼...")
-        success = verify_installation()
-    elif args.install or len(sys.argv) == 1:
-        print("ğŸ“¦ å®‰è£…æ¨¡å¼...")
-
-        # 1. åˆ›å»ºé…ç½®ç›®å½•
-        print("1ï¸âƒ£ åˆ›å»ºé…ç½®ç›®å½•...")
-        create_codebuddy_config_directory()
-
-        # 2. å®‰è£…Skillsé…ç½®
-        print("2ï¸âƒ£ å®‰è£…Skillsé…ç½®...")
-        config_success = install_codebuddy_skills()
-
-        # 3. å¤åˆ¶é€‚é…å™¨æ–‡ä»¶
-        print("3ï¸âƒ£ å¤åˆ¶é€‚é…å™¨æ–‡ä»¶...")
-        adapter_success = copy_adapter_file()
-
-        # 4. éªŒè¯å®‰è£…
-        print("4ï¸âƒ£ éªŒè¯å®‰è£…...")
-        verify_success = verify_installation()
-
-        success = config_success and adapter_success and verify_success
-
-        if success:
-            print("\nğŸ‰ CodeBuddy CLIè·¨CLIåä½œé›†æˆå®‰è£…æˆåŠŸï¼")
-            print("\nğŸ“‹ å®‰è£…æ‘˜è¦:")
-            print(f"   âœ… é…ç½®ç›®å½•: {CODEBUDDY_CONFIG_DIR}")
-            print(f"   âœ… é…ç½®æ–‡ä»¶: {CODEBUDDY_CONFIG_FILE}")
-            print(f"   âœ… é€‚é…å™¨ç›®å½•: {CODEBUDDY_CONFIG_DIR}")
-            print(f"   âœ… è·¨CLIåä½œSkill: å·²å¯ç”¨")
-
-            print("\nğŸš€ ä¸‹ä¸€æ­¥:")
-            print("   1. å®‰è£…å…¶ä»–CLIå·¥å…·çš„é›†æˆ")
-            print("   2. ä½¿ç”¨ ai-cli-router deploy --all")
-            print("   3. ä½¿ç”¨ ai-cli-router init åˆå§‹åŒ–é¡¹ç›®")
-        else:
-            print("\nâŒ CodeBuddy CLIè·¨CLIåä½œé›†æˆå®‰è£…å¤±è´¥")
-    else:
-        parser.print_help()
-
-if __name__ == "__main__":
+"""
+CodeBuddy CLI Skillsé›†æˆå®‰è£…è„šæœ¬
+ä¸ºCodeBuddy CLIå®‰è£…è·¨CLIåä½œæ„ŸçŸ¥èƒ½åŠ›
+
+ä½¿ç”¨æ–¹æ³•ï¼š
+python install_codebuddy_integration.py [--verify|--uninstall]
+"""
+
+import os
+import sys
+import json
+import shutil
+import argparse
+from pathlib import Path
+from datetime import datetime
+
+# è·å–å½“å‰æ–‡ä»¶ç›®å½•
+current_dir = Path(__file__).parent
+project_root = current_dir.parent.parent.parent
+
+# CodeBuddy CLIé…ç½®è·¯å¾„
+CODEBUDDY_CONFIG_DIR = os.path.expanduser("~/.codebuddy")
+CODEBUDDY_CONFIG_FILE = os.path.join(CODEBUDDY_CONFIG_DIR, "buddy_config.json")
+
+def create_codebuddy_config_directory():
+    """åˆ›å»ºCodeBuddyé…ç½®ç›®å½•"""
+    os.makedirs(CODEBUDDY_CONFIG_DIR, exist_ok=True)
+    print(f"âœ… åˆ›å»ºCodeBuddyé…ç½®ç›®å½•: {CODEBUDDY_CONFIG_DIR}")
+
+def install_codebuddy_skills():
+    """å®‰è£…CodeBuddy Skillsé…ç½®"""
+    # è¯»å–ç°æœ‰buddy_configé…ç½®
+    existing_config = {}
+    if os.path.exists(CODEBUDDY_CONFIG_FILE):
+        try:
+            with open(CODEBUDDY_CONFIG_FILE, 'r', encoding='utf-8') as f:
+                existing_config = json.load(f)
+        except Exception as e:
+            print(f"âš ï¸ è¯»å–ç°æœ‰buddy_configé…ç½®å¤±è´¥: {e}")
+            existing_config = {}
+
+    # å®šä¹‰è·¨CLIåä½œçš„Skillsé…ç½®
+    cross_cli_skills = {
+        "cross_cli_skill": {
+            "name": "CrossCLICoordinationSkill",
+            "description": "Cross-CLIå·¥å…·åè°ƒæŠ€èƒ½",
+            "module": "src.adapters.codebuddy.skills_hook_adapter",
+            "class": "CodeBuddySkillsHookAdapter",
+            "enabled": True,
+            "priority": 100,
+            "triggers": [
+                "on_skill_activation",
+                "on_user_command"
+            ],
+            "config": {
+                "cross_cli_enabled": True,
+                "supported_clis": ["claude", "gemini", "qwencode", "iflow", "qoder", "copilot"],
+                "auto_route": True,
+                "timeout": 30,
+                "collaboration_mode": "active"
+            }
+        }
+    }
+
+    # åˆå¹¶é…ç½®ï¼ˆä¿ç•™ç°æœ‰skillsï¼Œæ·»åŠ åä½œåŠŸèƒ½ï¼‰
+    merged_config = existing_config.copy()
+    if 'skills' not in merged_config:
+        merged_config['skills'] = []
+
+    # æ£€æŸ¥æ˜¯å¦å·²å­˜åœ¨è·¨CLIåè°ƒæŠ€èƒ½
+    existing_skill_names = [skill.get('name') for skill in merged_config.get('skills', [])]
+    cross_cli_skill_name = "CrossCLICoordinationSkill"
+
+    if cross_cli_skill_name not in existing_skill_names:
+        merged_config['skills'].append(cross_cli_skills['cross_cli_skill'])
+
+    # å†™å…¥é…ç½®æ–‡ä»¶
+    try:
+        with open(CODEBUDDY_CONFIG_FILE, 'w', encoding='utf-8') as f:
+            json.dump(merged_config, f, indent=2, ensure_ascii=False)
+
+        print(f"âœ… CodeBuddyé…ç½®å·²å®‰è£…: {CODEBUDDY_CONFIG_FILE}")
+        print("ğŸ”— å·²å®‰è£…çš„Skills:")
+        for skill in merged_config.get('skills', []):
+            status = "âœ…" if skill.get('enabled') else "âŒ"
+            print(f"   - {skill.get('name')}: {status}")
+
+        return True
+    except Exception as e:
+        print(f"âŒ å®‰è£…CodeBuddyé…ç½®å¤±è´¥: {e}")
+        return False
+
+def copy_adapter_file():
+    """å¤åˆ¶é€‚é…å™¨æ–‡ä»¶åˆ°CodeBuddyé…ç½®ç›®å½•"""
+    try:
+        # åˆ›å»ºé€‚é…å™¨ç›®å½•
+        adapter_dir = CODEBUDDY_CONFIG_DIR
+        os.makedirs(adapter_dir, exist_ok=True)
+
+        # å¤åˆ¶é€‚é…å™¨æ–‡ä»¶
+        adapter_files = [
+            "skills_hook_adapter.py",
+            "standalone_codebuddy_adapter.py"
+        ]
+
+        for file_name in adapter_files:
+            src_file = current_dir / file_name
+            dst_file = os.path.join(adapter_dir, file_name)
+
+            if src_file.exists():
+                shutil.copy2(src_file, dst_file)
+                print(f"âœ… å¤åˆ¶é€‚é…å™¨æ–‡ä»¶: {file_name}")
+            else:
+                print(f"âš ï¸ é€‚é…å™¨æ–‡ä»¶ä¸å­˜åœ¨: {file_name}")
+
+        return True
+    except Exception as e:
+        print(f"âŒ å¤åˆ¶é€‚é…å™¨æ–‡ä»¶å¤±è´¥: {e}")
+        return False
+
+def verify_installation():
+    """éªŒè¯å®‰è£…æ˜¯å¦æˆåŠŸ"""
+    print("\nğŸ” éªŒè¯CodeBuddy CLIé›†æˆå®‰è£…...")
+
+    # æ£€æŸ¥é…ç½®æ–‡ä»¶
+    if not os.path.exists(CODEBUDDY_CONFIG_FILE):
+        print(f"âŒ é…ç½®æ–‡ä»¶ä¸å­˜åœ¨: {CODEBUDDY_CONFIG_FILE}")
+        return False
+
+    try:
+        with open(CODEBUDDY_CONFIG_FILE, 'r', encoding='utf-8') as f:
+            config = json.load(f)
+
+        skills = config.get('skills', [])
+        cross_cli_skill = None
+        for skill in skills:
+            if skill.get('name') == 'CrossCLICoordinationSkill':
+                cross_cli_skill = skill
+                break
+
+        if cross_cli_skill:
+            print("âœ… è·¨CLIåä½œSkillå·²å®‰è£…")
+            print(f"   - æŠ€èƒ½åç§°: {cross_cli_skill.get('name')}")
+            print(f"   - æè¿°: {cross_cli_skill.get('description')}")
+            print(f"   - å¯ç”¨çŠ¶æ€: {'âœ…' if cross_cli_skill.get('enabled') else 'âŒ'}")
+            print(f"   - æ”¯æŒçš„CLIå·¥å…·: {cross_cli_skill.get('config', {}).get('supported_clis', [])}")
+            print(f"   - è‡ªåŠ¨è·¯ç”±: {'âœ…' if cross_cli_skill.get('config', {}).get('auto_route') else 'âŒ'}")
+        else:
+            print("âŒ è·¨CLIåä½œSkillæœªæ‰¾åˆ°")
+            return False
+
+        # æ£€æŸ¥é€‚é…å™¨æ–‡ä»¶
+        required_files = ["skills_hook_adapter.py"]
+        missing_files = []
+
+        for file_name in required_files:
+            file_path = os.path.join(CODEBUDDY_CONFIG_DIR, file_name)
+            if not os.path.exists(file_path):
+                missing_files.append(file_name)
+
+        if missing_files:
+            print(f"âŒ ç¼ºå¤±é€‚é…å™¨æ–‡ä»¶: {missing_files}")
+            return False
+        else:
+            print("âœ… é€‚é…å™¨æ–‡ä»¶å·²å¤åˆ¶")
+
+        return True
+    except Exception as e:
+        print(f"âŒ éªŒè¯å¤±è´¥: {e}")
+        return False
+
+def uninstall_codebuddy_integration():
+    """å¸è½½CodeBuddyé›†æˆ"""
+    try:
+        # å¤‡ä»½ç°æœ‰é…ç½®
+        if os.path.exists(CODEBUDDY_CONFIG_FILE):
+            backup_file = f"{CODEBUDDY_CONFIG_FILE}.backup_{datetime.now().strftime('%Y%m%d_%H%M%S')}"
+            shutil.copy2(CODEBUDDY_CONFIG_FILE, backup_file)
+            print(f"ğŸ“¦ å·²å¤‡ä»½ç°æœ‰é…ç½®: {backup_file}")
+
+        # ç§»é™¤è·¨CLIåä½œSkill
+        config_updated = False
+        if os.path.exists(CODEBUDDY_CONFIG_FILE):
+            with open(CODEBUDDY_CONFIG_FILE, 'r+', encoding='utf-8') as f:
+                config = json.load(f)
+                skills = config.get('skills', [])
+
+                # ç§»é™¤è·¨CLIåä½œSkill
+                skills = [skill for skill in skills if skill.get('name') != 'CrossCLICoordinationSkill']
+
+                f.seek(0)
+                f.truncate()
+                json.dump({
+                    'skills': skills,
+                    'version': config.get('version', '1.0.0')
+                }, f, indent=2, ensure_ascii=False)
+                config_updated = True
+
+            print(f"ğŸ—‘ï¸ CodeBuddyè·¨CLIåä½œé›†æˆå·²å¸è½½")
+        return True
+    except Exception as e:
+        print(f"âŒ å¸è½½å¤±è´¥: {e}")
+        return False
+
+def main():
+    parser = argparse.ArgumentParser(
+        description="CodeBuddy CLIè·¨CLIåä½œé›†æˆå®‰è£…è„šæœ¬",
+        formatter_class=argparse.RawDescriptionHelpFormatter
+    )
+
+    parser.add_argument(
+        "--install",
+        action="store_true",
+        help="å®‰è£…CodeBuddy CLIè·¨CLIåä½œé›†æˆ"
+    )
+
+    parser.add_argument(
+        "--verify",
+        action="store_true",
+        help="éªŒè¯CodeBuddy CLIé›†æˆå®‰è£…"
+    )
+
+    parser.add_argument(
+        "--uninstall",
+        action="store_true",
+        help="å¸è½½CodeBuddy CLIè·¨CLIåä½œé›†æˆ"
+    )
+
+    args = parser.parse_args()
+
+    print("[INSTALL] CodeBuddy CLIè·¨CLIåä½œé›†æˆå®‰è£…å™¨")
+    print("=" * 50)
+
+    if args.uninstall:
+        print("[UNINSTALL] å¸è½½æ¨¡å¼...")
+        success = uninstall_codebuddy_integration()
+    elif args.verify:
+        print("[VERIFY] éªŒè¯æ¨¡å¼...")
+        success = verify_installation()
+    elif args.install or len(sys.argv) == 1:
+        print("[INSTALL] å®‰è£…æ¨¡å¼...")
+
+        # 1. åˆ›å»ºé…ç½®ç›®å½•
+        print("Step 1. åˆ›å»ºé…ç½®ç›®å½•...")
+        create_codebuddy_config_directory()
+
+        # 2. å®‰è£…Skillsé…ç½®
+        print("Step 2. å®‰è£…Skillsé…ç½®...")
+        config_success = install_codebuddy_skills()
+
+        # 3. å¤åˆ¶é€‚é…å™¨æ–‡ä»¶
+        print("Step 3. å¤åˆ¶é€‚é…å™¨æ–‡ä»¶...")
+        adapter_success = copy_adapter_file()
+
+        # 4. éªŒè¯å®‰è£…
+        print("Step 4. éªŒè¯å®‰è£…...")
+        verify_success = verify_installation()
+
+        success = config_success and adapter_success and verify_success
+
+        if success:
+            print("\nğŸ‰ CodeBuddy CLIè·¨CLIåä½œé›†æˆå®‰è£…æˆåŠŸï¼")
+            print("\nğŸ“‹ å®‰è£…æ‘˜è¦:")
+            print(f"   âœ… é…ç½®ç›®å½•: {CODEBUDDY_CONFIG_DIR}")
+            print(f"   âœ… é…ç½®æ–‡ä»¶: {CODEBUDDY_CONFIG_FILE}")
+            print(f"   âœ… é€‚é…å™¨ç›®å½•: {CODEBUDDY_CONFIG_DIR}")
+            print(f"   âœ… è·¨CLIåä½œSkill: å·²å¯ç”¨")
+
+            print("\nğŸš€ ä¸‹ä¸€æ­¥:")
+            print("   1. å®‰è£…å…¶ä»–CLIå·¥å…·çš„é›†æˆ")
+            print("   2. ä½¿ç”¨ ai-cli-router deploy --all")
+            print("   3. ä½¿ç”¨ ai-cli-router init åˆå§‹åŒ–é¡¹ç›®")
+        else:
+            print("\nâŒ CodeBuddy CLIè·¨CLIåä½œé›†æˆå®‰è£…å¤±è´¥")
+    else:
+        parser.print_help()
+
+if __name__ == "__main__":
     main()
\ No newline at end of file
diff --git a/src/adapters/codex/install_codex_integration.py b/src/adapters/codex/install_codex_integration.py
index 75532d8..58bd811 100644
--- a/src/adapters/codex/install_codex_integration.py
+++ b/src/adapters/codex/install_codex_integration.py
@@ -1,311 +1,311 @@
-"""
-Codex CLI Slash Commandé›†æˆå®‰è£…è„šæœ¬
-ä¸ºCodex CLIå®‰è£…è·¨CLIåä½œæ„ŸçŸ¥èƒ½åŠ›
-
-ä½¿ç”¨æ–¹æ³•ï¼š
-python install_codex_integration.py [--verify|--uninstall]
-"""
-
-import os
-import sys
-import json
-import shutil
-import argparse
-from pathlib import Path
-from datetime import datetime
-
-# è·å–å½“å‰æ–‡ä»¶ç›®å½•
-current_dir = Path(__file__).parent
-project_root = current_dir.parent.parent.parent
-
-# Codex CLIé…ç½®è·¯å¾„
-CODEX_CONFIG_DIR = os.path.expanduser("~/.config/codex")
-CODEX_SLASH_COMMANDS_FILE = os.path.join(CODEX_CONFIG_DIR, "slash_commands.json")
-
-def create_codex_config_directory():
-    """åˆ›å»ºCodexé…ç½®ç›®å½•"""
-    os.makedirs(CODEX_CONFIG_DIR, exist_ok=True)
-    print(f"âœ… åˆ›å»ºCodexé…ç½®ç›®å½•: {CODEX_CONFIG_DIR}")
-
-def install_codex_slash_commands():
-    """å®‰è£…Codex Slash Commandé…ç½®"""
-    # è¯»å–ç°æœ‰slash_commandsé…ç½®
-    existing_config = {}
-    if os.path.exists(CODEX_SLASH_COMMANDS_FILE):
-        try:
-            with open(CODEX_SLASH_COMMANDS_FILE, 'r', encoding='utf-8') as f:
-                existing_config = json.load(f)
-        except Exception as e:
-            print(f"âš ï¸ è¯»å–ç°æœ‰slash_commandsé…ç½®å¤±è´¥: {e}")
-            existing_config = {}
-
-    # å®šä¹‰è·¨CLIåä½œçš„Slash Commandé…ç½®
-    cross_cli_slash_commands = {
-        "init": {
-            "command": "init",
-            "description": "åˆå§‹åŒ–è·¨CLIåä½œé¡¹ç›®",
-            "module": "src.core.enhanced_init_processor",
-            "enabled": True,
-            "cross_cli_enabled": True,
-            "supported_clis": ["claude", "gemini", "qwencode", "iflow", "qoder", "codebuddy", "copilot"]
-        },
-        "scan": {
-            "command": "scan",
-            "description": "æ‰«æAIç¯å¢ƒä¸­çš„CLIå·¥å…·",
-            "module": "src.core.ai_environment_scanner",
-            "enabled": True,
-            "cross_cli_enabled": True,
-            "supported_clis": ["claude", "gemini", "qwencode", "iflow", "qoder", "codebuddy", "copilot"]
-        },
-        "status": {
-            "command": "status",
-            "description": "æŸ¥çœ‹æ‰€æœ‰CLIå·¥å…·çš„çŠ¶æ€",
-            "module": "src.core.cli_hook_integration",
-            "enabled": True,
-            "cross_cli_enabled": True,
-            "supported_clis": ["claude", "gemini", "qwencode", "iflow", "qoder", "codebuddy", "copilot"]
-        },
-        "deploy": {
-            "command": "deploy",
-            "description": "éƒ¨ç½²æ‰€æœ‰CLIå·¥å…·çš„åä½œæ’ä»¶",
-            "module": "src.core.cli_hook_integration",
-            "enabled": True,
-            "cross_cli_enabled": True,
-            "supported_clis": ["claude", "gemini", "qwencode", "iflow", "qoder", "codebuddy", "copilot"]
-        },
-        "call": {
-            "command": "call",
-            "description": "è°ƒç”¨å…¶ä»–CLIå·¥å…·æ‰§è¡Œä»»åŠ¡",
-            "module": "src.core.cli_hook_integration",
-            "enabled": True,
-            "cross_cli_enabled": True,
-            "supported_clis": ["claude", "gemini", "qwencode", "iflow", "qoder", "codebuddy", "copilot"]
-        }
-    }
-
-    # åˆå¹¶é…ç½®ï¼ˆä¿ç•™ç°æœ‰slash_commandsï¼Œæ·»åŠ åä½œåŠŸèƒ½ï¼‰
-    merged_config = existing_config.copy()
-    if 'slash_commands' not in merged_config:
-        merged_config['slash_commands'] = {}
-
-    # æ£€æŸ¥æ˜¯å¦å·²å­˜åœ¨è·¨CLIåä½œå‘½ä»¤
-    existing_command_names = [cmd.get('command') for cmd in merged_config.get('slash_commands', {}).values()]
-    cross_cli_commands = ["init", "scan", "status", "deploy", "call"]
-
-    # æ·»åŠ è·¨CLIåä½œSlash Commandsï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰
-    for cmd_name, cmd_config in cross_cli_slash_commands.items():
-        if cmd_name not in existing_command_names:
-            merged_config['slash_commands'][cmd_name] = cmd_config
-
-    # å†™å…¥é…ç½®æ–‡ä»¶
-    try:
-        with open(CODEX_SLASH_COMMANDS_FILE, 'w', encoding='utf-8') as f:
-            json.dump(merged_config, f, indent=2, ensure_ascii=False)
-
-        print(f"âœ… Codexé…ç½®å·²å®‰è£…: {CODEX_SLASH_COMMANDS_FILE}")
-        print("ğŸ”— å·²å®‰è£…çš„è·¨CLIåä½œå‘½ä»¤:")
-        for cmd_name in cross_cli_commands:
-            cmd_config = merged_config['slash_commands'].get(cmd_name, {})
-            status = "âœ…" if cmd_config.get('enabled') else "âŒ"
-            print(f"   - /{cmd_name}: {status} - {cmd_config.get('description')}")
-
-        return True
-    except Exception as e:
-        print(f"âŒ å®‰è£…Codexé…ç½®å¤±è´¥: {e}")
-        return False
-
-def copy_adapter_file():
-    """å¤åˆ¶é€‚é…å™¨æ–‡ä»¶åˆ°Codexé…ç½®ç›®å½•"""
-    try:
-        # åˆ›å»ºé€‚é…å™¨ç›®å½•
-        adapter_dir = CODEX_CONFIG_DIR
-        os.makedirs(adapter_dir, exist_ok=True)
-
-        # å¤åˆ¶é€‚é…å™¨æ–‡ä»¶
-        adapter_files = [
-            "mcp_server.py",
-            "standalone_codex_adapter.py"
-        ]
-
-        for file_name in adapter_files:
-            src_file = current_dir / file_name
-            dst_file = os.path.join(adapter_dir, file_name)
-
-            if src_file.exists():
-                shutil.copy2(src_file, dst_file)
-                print(f"âœ… å¤åˆ¶é€‚é…å™¨æ–‡ä»¶: {file_name}")
-            else:
-                print(f"âš ï¸ é€‚é…å™¨æ–‡ä»¶ä¸å­˜åœ¨: {file_name}")
-
-        return True
-    except Exception as e:
-        print(f"âŒ å¤åˆ¶é€‚é…å™¨æ–‡ä»¶å¤±è´¥: {e}")
-        return False
-
-def verify_installation():
-    """éªŒè¯å®‰è£…æ˜¯å¦æˆåŠŸ"""
-    print("\nğŸ” éªŒè¯Codex CLIé›†æˆå®‰è£…...")
-
-    # æ£€æŸ¥é…ç½®æ–‡ä»¶
-    if not os.path.exists(CODEX_SLASH_COMMANDS_FILE):
-        print(f"âŒ é…ç½®æ–‡ä»¶ä¸å­˜åœ¨: {CODEX_SLASH_COMMANDS_FILE}")
-        return False
-
-    try:
-        with open(CODEX_SLASH_COMMANDS_FILE, 'r', encoding='utf-8') as f:
-            config = json.load(f)
-
-        slash_commands = config.get('slash_commands', {})
-        cross_cli_commands = ["init", "scan", "status", "deploy", "call"]
-
-        # éªŒè¯è·¨CLIåä½œå‘½ä»¤
-        all_commands_found = True
-        for cmd_name in cross_cli_commands:
-            cmd_config = slash_commands.get(cmd_name, {})
-            if not cmd_config:
-                all_commands_found = False
-                break
-            if not cmd_config.get('cross_cli_enabled'):
-                all_commands_found = False
-                break
-
-        if all_commands_found:
-            print("âœ… è·¨CLIåä½œSlash Commandså·²å®‰è£…")
-            for cmd_name in cross_cli_commands:
-                cmd_config = slash_commands.get(cmd_name, {})
-                status = "âœ…" if cmd_config.get('enabled') else "âŒ"
-                print(f"   - /{cmd_name}: {status} - {cmd_config.get('description')}")
-        else:
-            print("âŒ è·¨CLIåä½œSlash Commandsæœªå®Œå…¨å®‰è£…")
-            return False
-
-        # æ£€æŸ¥é€‚é…å™¨æ–‡ä»¶
-        required_files = ["mcp_server.py"]
-        missing_files = []
-
-        for file_name in required_files:
-            file_path = os.path.join(CODEX_CONFIG_DIR, file_name)
-            if not os.path.exists(file_path):
-                missing_files.append(file_name)
-
-        if missing_files:
-            print(f"âŒ ç¼ºå¤±é€‚é…å™¨æ–‡ä»¶: {missing_files}")
-            return False
-        else:
-            print("âœ… é€‚é…å™¨æ–‡ä»¶å·²å¤åˆ¶")
-
-        return True
-    except Exception as e:
-        print(f"âŒ éªŒè¯å¤±è´¥: {e}")
-        return False
-
-def uninstall_codex_integration():
-    """å¸è½½Codexé›†æˆ"""
-    try:
-        # å¤‡ä»½ç°æœ‰é…ç½®
-        if os.path.exists(CODEX_SLASH_COMMANDS_FILE):
-            backup_file = f"{CODEX_SLASH_COMMANDS_FILE}.backup_{datetime.now().strftime('%Y%m%d_%H%M%S')}"
-            shutil.copy2(CODEX_SLASH_COMMANDS_FILE, backup_file)
-            print(f"ğŸ“¦ å·²å¤‡ä»½ç°æœ‰é…ç½®: {backup_file}")
-
-        # ç§»é™¤è·¨CLIåä½œSlash Commands
-        config_updated = False
-        if os.path.exists(CODEX_SLASH_COMMANDS_FILE):
-            with open(CODEX_SLASH_COMMANDS_FILE, 'r+', encoding='utf-8') as f:
-                config = json.load(f)
-                slash_commands = config.get('slash_commands', {})
-
-                # ç¦ç”¨è·¨CLIåä½œå‘½ä»¤
-                for cmd_name in ["init", "scan", "status", "deploy", "call"]:
-                    if cmd_name in slash_commands:
-                        slash_commands[cmd_name]['cross_cli_enabled'] = False
-
-                f.seek(0)
-                f.truncate()
-                json.dump({
-                    'slash_commands': slash_commands,
-                    'version': config.get('version', '1.0.0')
-                }, f, indent=2, ensure_ascii=False)
-                config_updated = True
-
-            print(f"ğŸ—‘ï¸ Codexè·¨CLIåä½œé›†æˆå·²å¸è½½")
-        return True
-    except Exception as e:
-        print(f"âŒ å¸è½½å¤±è´¥: {e}")
-        return False
-
-def main():
-    parser = argparse.ArgumentParser(
-        description="Codex CLIè·¨CLIåä½œé›†æˆå®‰è£…è„šæœ¬",
-        formatter_class=argparse.RawDescriptionHelpFormatter
-    )
-
-    parser.add_argument(
-        "--install",
-        action="store_true",
-        help="å®‰è£…Codex CLIè·¨CLIåä½œé›†æˆ"
-    )
-
-    parser.add_argument(
-        "--verify",
-        action="store_true",
-        help="éªŒè¯Codex CLIé›†æˆå®‰è£…"
-    )
-
-    parser.add_argument(
-        "--uninstall",
-        action="store_true",
-        help="å¸è½½Codex CLIè·¨CLIåä½œé›†æˆ"
-    )
-
-    args = parser.parse_args()
-
-    print("ğŸš€ Codex CLIè·¨CLIåä½œé›†æˆå®‰è£…å™¨")
-    print("=" * 50)
-
-    if args.uninstall:
-        print("ğŸ—‘ï¸ å¸è½½æ¨¡å¼...")
-        success = uninstall_codex_integration()
-    elif args.verify:
-        print("ğŸ” éªŒè¯æ¨¡å¼...")
-        success = verify_installation()
-    elif args.install or len(sys.argv) == 1:
-        print("ğŸ“¦ å®‰è£…æ¨¡å¼...")
-
-        # 1. åˆ›å»ºé…ç½®ç›®å½•
-        print("1ï¸âƒ£ åˆ›å»ºé…ç½®ç›®å½•...")
-        create_codex_config_directory()
-
-        # 2. å®‰è£…Slash Commandsé…ç½®
-        print("2ï¸âƒ£ å®‰è£…Slash Commandsé…ç½®...")
-        config_success = install_codex_slash_commands()
-
-        # 3. å¤åˆ¶é€‚é…å™¨æ–‡ä»¶
-        print("3ï¸âƒ£ å¤åˆ¶é€‚é…å™¨æ–‡ä»¶...")
-        adapter_success = copy_adapter_file()
-
-        # 4. éªŒè¯å®‰è£…
-        print("4ï¸âƒ£ éªŒè¯å®‰è£…...")
-        verify_success = verify_installation()
-
-        success = config_success and adapter_success and verify_success
-
-        if success:
-            print("\nğŸ‰ Codex CLIè·¨CLIåä½œé›†æˆå®‰è£…æˆåŠŸï¼")
-            print("\nğŸ“‹ å®‰è£…æ‘˜è¦:")
-            print(f"   âœ… é…ç½®ç›®å½•: {CODEX_CONFIG_DIR}")
-            print(f"   âœ… é…ç½®æ–‡ä»¶: {CODEX_SLASH_COMMANDS_FILE}")
-            print(f"   âœ… é€‚é…å™¨ç›®å½•: {CODEX_CONFIG_DIR}")
-            print(f"   âœ… è·¨CLIåä½œSlash Commands: å·²å¯ç”¨")
-
-            print("\nğŸš€ ä¸‹ä¸€æ­¥:")
-            print("   1. å®‰è£…å…¶ä»–CLIå·¥å…·çš„é›†æˆ")
-            print("   2. ä½¿ç”¨ ai-cli-router deploy --all")
-            print("   3. ä½¿ç”¨ ai-cli-router init åˆå§‹åŒ–é¡¹ç›®")
-        else:
-            print("\nâŒ Codex CLIè·¨CLIåä½œé›†æˆå®‰è£…å¤±è´¥")
-    else:
-        parser.print_help()
-
-if __name__ == "__main__":
+"""
+Codex CLI Slash Commandé›†æˆå®‰è£…è„šæœ¬
+ä¸ºCodex CLIå®‰è£…è·¨CLIåä½œæ„ŸçŸ¥èƒ½åŠ›
+
+ä½¿ç”¨æ–¹æ³•ï¼š
+python install_codex_integration.py [--verify|--uninstall]
+"""
+
+import os
+import sys
+import json
+import shutil
+import argparse
+from pathlib import Path
+from datetime import datetime
+
+# è·å–å½“å‰æ–‡ä»¶ç›®å½•
+current_dir = Path(__file__).parent
+project_root = current_dir.parent.parent.parent
+
+# Codex CLIé…ç½®è·¯å¾„
+CODEX_CONFIG_DIR = os.path.expanduser("~/.config/codex")
+CODEX_SLASH_COMMANDS_FILE = os.path.join(CODEX_CONFIG_DIR, "slash_commands.json")
+
+def create_codex_config_directory():
+    """åˆ›å»ºCodexé…ç½®ç›®å½•"""
+    os.makedirs(CODEX_CONFIG_DIR, exist_ok=True)
+    print(f"âœ… åˆ›å»ºCodexé…ç½®ç›®å½•: {CODEX_CONFIG_DIR}")
+
+def install_codex_slash_commands():
+    """å®‰è£…Codex Slash Commandé…ç½®"""
+    # è¯»å–ç°æœ‰slash_commandsé…ç½®
+    existing_config = {}
+    if os.path.exists(CODEX_SLASH_COMMANDS_FILE):
+        try:
+            with open(CODEX_SLASH_COMMANDS_FILE, 'r', encoding='utf-8') as f:
+                existing_config = json.load(f)
+        except Exception as e:
+            print(f"âš ï¸ è¯»å–ç°æœ‰slash_commandsé…ç½®å¤±è´¥: {e}")
+            existing_config = {}
+
+    # å®šä¹‰è·¨CLIåä½œçš„Slash Commandé…ç½®
+    cross_cli_slash_commands = {
+        "init": {
+            "command": "init",
+            "description": "åˆå§‹åŒ–è·¨CLIåä½œé¡¹ç›®",
+            "module": "src.core.enhanced_init_processor",
+            "enabled": True,
+            "cross_cli_enabled": True,
+            "supported_clis": ["claude", "gemini", "qwencode", "iflow", "qoder", "codebuddy", "copilot"]
+        },
+        "scan": {
+            "command": "scan",
+            "description": "æ‰«æAIç¯å¢ƒä¸­çš„CLIå·¥å…·",
+            "module": "src.core.ai_environment_scanner",
+            "enabled": True,
+            "cross_cli_enabled": True,
+            "supported_clis": ["claude", "gemini", "qwencode", "iflow", "qoder", "codebuddy", "copilot"]
+        },
+        "status": {
+            "command": "status",
+            "description": "æŸ¥çœ‹æ‰€æœ‰CLIå·¥å…·çš„çŠ¶æ€",
+            "module": "src.core.cli_hook_integration",
+            "enabled": True,
+            "cross_cli_enabled": True,
+            "supported_clis": ["claude", "gemini", "qwencode", "iflow", "qoder", "codebuddy", "copilot"]
+        },
+        "deploy": {
+            "command": "deploy",
+            "description": "éƒ¨ç½²æ‰€æœ‰CLIå·¥å…·çš„åä½œæ’ä»¶",
+            "module": "src.core.cli_hook_integration",
+            "enabled": True,
+            "cross_cli_enabled": True,
+            "supported_clis": ["claude", "gemini", "qwencode", "iflow", "qoder", "codebuddy", "copilot"]
+        },
+        "call": {
+            "command": "call",
+            "description": "è°ƒç”¨å…¶ä»–CLIå·¥å…·æ‰§è¡Œä»»åŠ¡",
+            "module": "src.core.cli_hook_integration",
+            "enabled": True,
+            "cross_cli_enabled": True,
+            "supported_clis": ["claude", "gemini", "qwencode", "iflow", "qoder", "codebuddy", "copilot"]
+        }
+    }
+
+    # åˆå¹¶é…ç½®ï¼ˆä¿ç•™ç°æœ‰slash_commandsï¼Œæ·»åŠ åä½œåŠŸèƒ½ï¼‰
+    merged_config = existing_config.copy()
+    if 'slash_commands' not in merged_config:
+        merged_config['slash_commands'] = {}
+
+    # æ£€æŸ¥æ˜¯å¦å·²å­˜åœ¨è·¨CLIåä½œå‘½ä»¤
+    existing_command_names = [cmd.get('command') for cmd in merged_config.get('slash_commands', {}).values()]
+    cross_cli_commands = ["init", "scan", "status", "deploy", "call"]
+
+    # æ·»åŠ è·¨CLIåä½œSlash Commandsï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰
+    for cmd_name, cmd_config in cross_cli_slash_commands.items():
+        if cmd_name not in existing_command_names:
+            merged_config['slash_commands'][cmd_name] = cmd_config
+
+    # å†™å…¥é…ç½®æ–‡ä»¶
+    try:
+        with open(CODEX_SLASH_COMMANDS_FILE, 'w', encoding='utf-8') as f:
+            json.dump(merged_config, f, indent=2, ensure_ascii=False)
+
+        print(f"âœ… Codexé…ç½®å·²å®‰è£…: {CODEX_SLASH_COMMANDS_FILE}")
+        print("ğŸ”— å·²å®‰è£…çš„è·¨CLIåä½œå‘½ä»¤:")
+        for cmd_name in cross_cli_commands:
+            cmd_config = merged_config['slash_commands'].get(cmd_name, {})
+            status = "âœ…" if cmd_config.get('enabled') else "âŒ"
+            print(f"   - /{cmd_name}: {status} - {cmd_config.get('description')}")
+
+        return True
+    except Exception as e:
+        print(f"âŒ å®‰è£…Codexé…ç½®å¤±è´¥: {e}")
+        return False
+
+def copy_adapter_file():
+    """å¤åˆ¶é€‚é…å™¨æ–‡ä»¶åˆ°Codexé…ç½®ç›®å½•"""
+    try:
+        # åˆ›å»ºé€‚é…å™¨ç›®å½•
+        adapter_dir = CODEX_CONFIG_DIR
+        os.makedirs(adapter_dir, exist_ok=True)
+
+        # å¤åˆ¶é€‚é…å™¨æ–‡ä»¶
+        adapter_files = [
+            "mcp_server.py",
+            "standalone_codex_adapter.py"
+        ]
+
+        for file_name in adapter_files:
+            src_file = current_dir / file_name
+            dst_file = os.path.join(adapter_dir, file_name)
+
+            if src_file.exists():
+                shutil.copy2(src_file, dst_file)
+                print(f"âœ… å¤åˆ¶é€‚é…å™¨æ–‡ä»¶: {file_name}")
+            else:
+                print(f"âš ï¸ é€‚é…å™¨æ–‡ä»¶ä¸å­˜åœ¨: {file_name}")
+
+        return True
+    except Exception as e:
+        print(f"âŒ å¤åˆ¶é€‚é…å™¨æ–‡ä»¶å¤±è´¥: {e}")
+        return False
+
+def verify_installation():
+    """éªŒè¯å®‰è£…æ˜¯å¦æˆåŠŸ"""
+    print("\nğŸ” éªŒè¯Codex CLIé›†æˆå®‰è£…...")
+
+    # æ£€æŸ¥é…ç½®æ–‡ä»¶
+    if not os.path.exists(CODEX_SLASH_COMMANDS_FILE):
+        print(f"âŒ é…ç½®æ–‡ä»¶ä¸å­˜åœ¨: {CODEX_SLASH_COMMANDS_FILE}")
+        return False
+
+    try:
+        with open(CODEX_SLASH_COMMANDS_FILE, 'r', encoding='utf-8') as f:
+            config = json.load(f)
+
+        slash_commands = config.get('slash_commands', {})
+        cross_cli_commands = ["init", "scan", "status", "deploy", "call"]
+
+        # éªŒè¯è·¨CLIåä½œå‘½ä»¤
+        all_commands_found = True
+        for cmd_name in cross_cli_commands:
+            cmd_config = slash_commands.get(cmd_name, {})
+            if not cmd_config:
+                all_commands_found = False
+                break
+            if not cmd_config.get('cross_cli_enabled'):
+                all_commands_found = False
+                break
+
+        if all_commands_found:
+            print("âœ… è·¨CLIåä½œSlash Commandså·²å®‰è£…")
+            for cmd_name in cross_cli_commands:
+                cmd_config = slash_commands.get(cmd_name, {})
+                status = "âœ…" if cmd_config.get('enabled') else "âŒ"
+                print(f"   - /{cmd_name}: {status} - {cmd_config.get('description')}")
+        else:
+            print("âŒ è·¨CLIåä½œSlash Commandsæœªå®Œå…¨å®‰è£…")
+            return False
+
+        # æ£€æŸ¥é€‚é…å™¨æ–‡ä»¶
+        required_files = ["mcp_server.py"]
+        missing_files = []
+
+        for file_name in required_files:
+            file_path = os.path.join(CODEX_CONFIG_DIR, file_name)
+            if not os.path.exists(file_path):
+                missing_files.append(file_name)
+
+        if missing_files:
+            print(f"âŒ ç¼ºå¤±é€‚é…å™¨æ–‡ä»¶: {missing_files}")
+            return False
+        else:
+            print("âœ… é€‚é…å™¨æ–‡ä»¶å·²å¤åˆ¶")
+
+        return True
+    except Exception as e:
+        print(f"âŒ éªŒè¯å¤±è´¥: {e}")
+        return False
+
+def uninstall_codex_integration():
+    """å¸è½½Codexé›†æˆ"""
+    try:
+        # å¤‡ä»½ç°æœ‰é…ç½®
+        if os.path.exists(CODEX_SLASH_COMMANDS_FILE):
+            backup_file = f"{CODEX_SLASH_COMMANDS_FILE}.backup_{datetime.now().strftime('%Y%m%d_%H%M%S')}"
+            shutil.copy2(CODEX_SLASH_COMMANDS_FILE, backup_file)
+            print(f"ğŸ“¦ å·²å¤‡ä»½ç°æœ‰é…ç½®: {backup_file}")
+
+        # ç§»é™¤è·¨CLIåä½œSlash Commands
+        config_updated = False
+        if os.path.exists(CODEX_SLASH_COMMANDS_FILE):
+            with open(CODEX_SLASH_COMMANDS_FILE, 'r+', encoding='utf-8') as f:
+                config = json.load(f)
+                slash_commands = config.get('slash_commands', {})
+
+                # ç¦ç”¨è·¨CLIåä½œå‘½ä»¤
+                for cmd_name in ["init", "scan", "status", "deploy", "call"]:
+                    if cmd_name in slash_commands:
+                        slash_commands[cmd_name]['cross_cli_enabled'] = False
+
+                f.seek(0)
+                f.truncate()
+                json.dump({
+                    'slash_commands': slash_commands,
+                    'version': config.get('version', '1.0.0')
+                }, f, indent=2, ensure_ascii=False)
+                config_updated = True
+
+            print(f"ğŸ—‘ï¸ Codexè·¨CLIåä½œé›†æˆå·²å¸è½½")
+        return True
+    except Exception as e:
+        print(f"âŒ å¸è½½å¤±è´¥: {e}")
+        return False
+
+def main():
+    parser = argparse.ArgumentParser(
+        description="Codex CLIè·¨CLIåä½œé›†æˆå®‰è£…è„šæœ¬",
+        formatter_class=argparse.RawDescriptionHelpFormatter
+    )
+
+    parser.add_argument(
+        "--install",
+        action="store_true",
+        help="å®‰è£…Codex CLIè·¨CLIåä½œé›†æˆ"
+    )
+
+    parser.add_argument(
+        "--verify",
+        action="store_true",
+        help="éªŒè¯Codex CLIé›†æˆå®‰è£…"
+    )
+
+    parser.add_argument(
+        "--uninstall",
+        action="store_true",
+        help="å¸è½½Codex CLIè·¨CLIåä½œé›†æˆ"
+    )
+
+    args = parser.parse_args()
+
+    print("[INSTALL] Codex CLIè·¨CLIåä½œé›†æˆå®‰è£…å™¨")
+    print("=" * 50)
+
+    if args.uninstall:
+        print("ğŸ—‘ï¸ å¸è½½æ¨¡å¼...")
+        success = uninstall_codex_integration()
+    elif args.verify:
+        print("ğŸ” éªŒè¯æ¨¡å¼...")
+        success = verify_installation()
+    elif args.install or len(sys.argv) == 1:
+        print("ğŸ“¦ å®‰è£…æ¨¡å¼...")
+
+        # 1. åˆ›å»ºé…ç½®ç›®å½•
+        print("1ï¸âƒ£ åˆ›å»ºé…ç½®ç›®å½•...")
+        create_codex_config_directory()
+
+        # 2. å®‰è£…Slash Commandsé…ç½®
+        print("2ï¸âƒ£ å®‰è£…Slash Commandsé…ç½®...")
+        config_success = install_codex_slash_commands()
+
+        # 3. å¤åˆ¶é€‚é…å™¨æ–‡ä»¶
+        print("3ï¸âƒ£ å¤åˆ¶é€‚é…å™¨æ–‡ä»¶...")
+        adapter_success = copy_adapter_file()
+
+        # 4. éªŒè¯å®‰è£…
+        print("4ï¸âƒ£ éªŒè¯å®‰è£…...")
+        verify_success = verify_installation()
+
+        success = config_success and adapter_success and verify_success
+
+        if success:
+            print("\nğŸ‰ Codex CLIè·¨CLIåä½œé›†æˆå®‰è£…æˆåŠŸï¼")
+            print("\nğŸ“‹ å®‰è£…æ‘˜è¦:")
+            print(f"   âœ… é…ç½®ç›®å½•: {CODEX_CONFIG_DIR}")
+            print(f"   âœ… é…ç½®æ–‡ä»¶: {CODEX_SLASH_COMMANDS_FILE}")
+            print(f"   âœ… é€‚é…å™¨ç›®å½•: {CODEX_CONFIG_DIR}")
+            print(f"   âœ… è·¨CLIåä½œSlash Commands: å·²å¯ç”¨")
+
+            print("\nğŸš€ ä¸‹ä¸€æ­¥:")
+            print("   1. å®‰è£…å…¶ä»–CLIå·¥å…·çš„é›†æˆ")
+            print("   2. ä½¿ç”¨ ai-cli-router deploy --all")
+            print("   3. ä½¿ç”¨ ai-cli-router init åˆå§‹åŒ–é¡¹ç›®")
+        else:
+            print("\nâŒ Codex CLIè·¨CLIåä½œé›†æˆå®‰è£…å¤±è´¥")
+    else:
+        parser.print_help()
+
+if __name__ == "__main__":
     main()
\ No newline at end of file
diff --git a/src/adapters/gemini/install_gemini_integration.py b/src/adapters/gemini/install_gemini_integration.py
index c7e984a..e541c8f 100644
--- a/src/adapters/gemini/install_gemini_integration.py
+++ b/src/adapters/gemini/install_gemini_integration.py
@@ -1,257 +1,257 @@
-"""
-Gemini CLI Extensioné›†æˆå®‰è£…è„šæœ¬
-ä¸ºGemini CLIå®‰è£…è·¨CLIåä½œæ„ŸçŸ¥èƒ½åŠ›
-
-ä½¿ç”¨æ–¹æ³•ï¼š
-python install_gemini_integration.py [--verify|--uninstall]
-"""
-
-import os
-import sys
-import json
-import shutil
-import argparse
-from pathlib import Path
-from datetime import datetime
-
-# è·å–å½“å‰æ–‡ä»¶ç›®å½•
-current_dir = Path(__file__).parent
-project_root = current_dir.parent.parent.parent
-
-# Gemini CLIé…ç½®è·¯å¾„
-GEMINI_CONFIG_DIR = os.path.expanduser("~/.config/gemini")
-GEMINI_EXTENSIONS_FILE = os.path.join(GEMINI_CONFIG_DIR, "extensions.json")
-
-def create_gemini_config_directory():
-    """åˆ›å»ºGeminié…ç½®ç›®å½•"""
-    os.makedirs(GEMINI_CONFIG_DIR, exist_ok=True)
-    print(f"âœ… åˆ›å»ºGeminié…ç½®ç›®å½•: {GEMINI_CONFIG_DIR}")
-
-def install_gemini_extensions():
-    """å®‰è£…Gemini Extensioné…ç½®"""
-    # è¯»å–ç°æœ‰extensionsé…ç½®
-    existing_extensions = {}
-    if os.path.exists(GEMINI_EXTENSIONS_FILE):
-        try:
-            with open(GEMINI_EXTENSIONS_FILE, 'r', encoding='utf-8') as f:
-                existing_extensions = json.load(f)
-        except Exception as e:
-            print(f"âš ï¸ è¯»å–ç°æœ‰extensionsé…ç½®å¤±è´¥: {e}")
-            existing_extensions = {}
-
-    # å®šä¹‰è·¨CLIåä½œçš„Extensioné…ç½®
-    cross_cli_extensions = {
-        "cross_cli_preprocessor": {
-            "module": "src.adapters.gemini.extension_adapter",
-            "class": "GeminiExtensionAdapter",
-            "enabled": True,
-            "priority": 100,
-            "config": {
-                "cross_cli_enabled": True,
-                "supported_clis": ["claude", "qwencode", "iflow", "qoder", "codebuddy", "copilot"],
-                "auto_detect": True,
-                "timeout": 30,
-                "error_handling": "continue",
-                "collaboration_mode": "active"
-            }
-        },
-        "cross_cli_response_processor": {
-            "module": "src.adapters.gemini.extension_adapter",
-            "class": "GeminiExtensionAdapter",
-            "enabled": True,
-            "priority": 90,
-            "config": {
-                "cross_cli_enabled": True,
-                "format_cross_cli_results": True,
-                "add_collaboration_header": True,
-                "include_tool_status": True
-            }
-        }
-    }
-
-    # åˆå¹¶é…ç½®ï¼ˆä¿ç•™ç°æœ‰é…ç½®ï¼Œæ·»åŠ åä½œåŠŸèƒ½ï¼‰
-    merged_extensions = existing_extensions.copy()
-    for ext_name, ext_config in cross_cli_extensions.items():
-        merged_extensions[ext_name] = ext_config
-
-    # å†™å…¥extensionsé…ç½®æ–‡ä»¶
-    try:
-        with open(GEMINI_EXTENSIONS_FILE, 'w', encoding='utf-8') as f:
-            json.dump(merged_extensions, f, indent=2, ensure_ascii=False)
-
-        print(f"âœ… Gemini Extensioné…ç½®å·²å®‰è£…: {GEMINI_EXTENSIONS_FILE}")
-        print("ğŸ”— å·²å®‰è£…çš„Extension:")
-        for ext_name in cross_cli_extensions.keys():
-            print(f"   - {ext_name}: âœ… è·¨CLIåä½œæ„ŸçŸ¥")
-
-        return True
-    except Exception as e:
-        print(f"âŒ å®‰è£…Gemini Extensioné…ç½®å¤±è´¥: {e}")
-        return False
-
-def copy_adapter_file():
-    """å¤åˆ¶é€‚é…å™¨æ–‡ä»¶åˆ°Geminié…ç½®ç›®å½•"""
-    try:
-        # åˆ›å»ºé€‚é…å™¨ç›®å½•
-        adapter_dir = os.path.join(GEMINI_CONFIG_DIR, "adapters")
-        os.makedirs(adapter_dir, exist_ok=True)
-
-        # å¤åˆ¶é€‚é…å™¨æ–‡ä»¶
-        adapter_files = [
-            "extension_adapter.py",
-            "standalone_gemini_adapter.py"
-        ]
-
-        for file_name in adapter_files:
-            src_file = current_dir / file_name
-            dst_file = os.path.join(adapter_dir, file_name)
-
-            if src_file.exists():
-                shutil.copy2(src_file, dst_file)
-                print(f"âœ… å¤åˆ¶é€‚é…å™¨æ–‡ä»¶: {file_name}")
-            else:
-                print(f"âš ï¸ é€‚é…å™¨æ–‡ä»¶ä¸å­˜åœ¨: {file_name}")
-
-        return True
-    except Exception as e:
-        print(f"âŒ å¤åˆ¶é€‚é…å™¨æ–‡ä»¶å¤±è´¥: {e}")
-        return False
-
-def verify_installation():
-    """éªŒè¯å®‰è£…æ˜¯å¦æˆåŠŸ"""
-    print("\nğŸ” éªŒè¯Gemini CLIé›†æˆå®‰è£…...")
-
-    # æ£€æŸ¥é…ç½®ç›®å½•
-    if not os.path.exists(GEMINI_CONFIG_DIR):
-        print(f"âŒ é…ç½®ç›®å½•ä¸å­˜åœ¨: {GEMINI_CONFIG_DIR}")
-        return False
-
-    # æ£€æŸ¥extensionsæ–‡ä»¶
-    if not os.path.exists(GEMINI_EXTENSIONS_FILE):
-        print(f"âŒ Extensionsé…ç½®æ–‡ä»¶ä¸å­˜åœ¨: {GEMINI_EXTENSIONS_FILE}")
-        return False
-
-    # æ£€æŸ¥é€‚é…å™¨ç›®å½•
-    adapter_dir = os.path.join(GEMINI_CONFIG_DIR, "adapters")
-    if not os.path.exists(adapter_dir):
-        print(f"âŒ é€‚é…å™¨ç›®å½•ä¸å­˜åœ¨: {adapter_dir}")
-        return False
-
-    # è¯»å–å¹¶éªŒè¯extensionsé…ç½®
-    try:
-        with open(GEMINI_EXTENSIONS_FILE, 'r', encoding='utf-8') as f:
-            extensions_config = json.load(f)
-
-        required_extensions = ["cross_cli_preprocessor", "cross_cli_response_processor"]
-        for ext_name in required_extensions:
-            if ext_name in extensions_config:
-                ext_config = extensions_config[ext_name]
-                if ext_config.get("enabled", False):
-                    print(f"âœ… Extension {ext_name}: å·²å¯ç”¨")
-                    if "cross_cli_enabled" in ext_config.get("config", {}):
-                        print(f"âœ…   è·¨CLIåä½œ: å·²å¯ç”¨")
-                else:
-                    print(f"âš ï¸ Extension {ext_name}: æœªå¯ç”¨")
-            else:
-                print(f"âŒ ç¼ºå°‘Extension: {ext_name}")
-
-        return True
-    except Exception as e:
-        print(f"âŒ éªŒè¯é…ç½®å¤±è´¥: {e}")
-        return False
-
-def uninstall_gemini_integration():
-    """å¸è½½Gemini CLIé›†æˆ"""
-    try:
-        # å¤‡ä»½ç°æœ‰é…ç½®
-        if os.path.exists(GEMINI_EXTENSIONS_FILE):
-            backup_file = f"{GEMINI_EXTENSIONS_FILE}.backup_{datetime.now().strftime('%Y%m%d_%H%M%S')}"
-            shutil.copy2(GEMINI_EXTENSIONS_FILE, backup_file)
-            print(f"ğŸ“¦ å·²å¤‡ä»½ç°æœ‰é…ç½®: {backup_file}")
-
-        # ç§»é™¤é€‚é…å™¨ç›®å½•
-        adapter_dir = os.path.join(GEMINI_CONFIG_DIR, "adapters")
-        if os.path.exists(adapter_dir):
-            shutil.rmtree(adapter_dir)
-            print(f"ğŸ—‘ï¸ å·²åˆ é™¤é€‚é…å™¨ç›®å½•: {adapter_dir}")
-
-        print("âœ… Gemini CLIé›†æˆå·²å¸è½½")
-        return True
-    except Exception as e:
-        print(f"âŒ å¸è½½å¤±è´¥: {e}")
-        return False
-
-def main():
-    parser = argparse.ArgumentParser(
-        description="Gemini CLIè·¨CLIåä½œé›†æˆå®‰è£…è„šæœ¬",
-        formatter_class=argparse.RawDescriptionHelpFormatter
-    )
-
-    parser.add_argument(
-        "--install",
-        action="store_true",
-        help="å®‰è£…Gemini CLIè·¨CLIåä½œé›†æˆ"
-    )
-
-    parser.add_argument(
-        "--verify",
-        action="store_true",
-        help="éªŒè¯Gemini CLIé›†æˆå®‰è£…"
-    )
-
-    parser.add_argument(
-        "--uninstall",
-        action="store_true",
-        help="å¸è½½Gemini CLIè·¨CLIåä½œé›†æˆ"
-    )
-
-    args = parser.parse_args()
-
-    print("ğŸŒŸ Gemini CLIè·¨CLIåä½œé›†æˆå®‰è£…å™¨")
-    print("=" * 50)
-
-    if args.uninstall:
-        print("ğŸ—‘ï¸ å¸è½½æ¨¡å¼...")
-        success = uninstall_gemini_integration()
-    elif args.verify:
-        print("ğŸ” éªŒè¯æ¨¡å¼...")
-        success = verify_installation()
-    elif args.install or len(sys.argv) == 1:
-        print("ğŸ“¦ å®‰è£…æ¨¡å¼...")
-
-        # 1. åˆ›å»ºé…ç½®ç›®å½•
-        print("\n1ï¸âƒ£ åˆ›å»ºé…ç½®ç›®å½•...")
-        create_gemini_config_directory()
-
-        # 2. å®‰è£…Extensioné…ç½®
-        print("\n2ï¸âƒ£ å®‰è£…Extensioné…ç½®...")
-        extensions_success = install_gemini_extensions()
-
-        # 3. å¤åˆ¶é€‚é…å™¨æ–‡ä»¶
-        print("\n3ï¸âƒ£ å¤åˆ¶é€‚é…å™¨æ–‡ä»¶...")
-        adapter_success = copy_adapter_file()
-
-        # 4. éªŒè¯å®‰è£…
-        print("\n4ï¸âƒ£ éªŒè¯å®‰è£…...")
-        verify_success = verify_installation()
-
-        success = extensions_success and adapter_success and verify_success
-
-        if success:
-            print("\nğŸ‰ Gemini CLIé›†æˆå®‰è£…æˆåŠŸï¼")
-            print("\nğŸ“‹ å®‰è£…æ‘˜è¦:")
-            print(f"   âœ… é…ç½®ç›®å½•: {GEMINI_CONFIG_DIR}")
-            print(f"   âœ… Extensionsé…ç½®: {GEMINI_EXTENSIONS_FILE}")
-            print(f"   âœ… é€‚é…å™¨ç›®å½•: {os.path.join(GEMINI_CONFIG_DIR, 'adapters')}")
-
-            print("\nğŸš€ ä¸‹ä¸€æ­¥:")
-            print("   1. å®‰è£…å…¶ä»–CLIå·¥å…·çš„é›†æˆ: ai-cli-router deploy --all")
-            print("   2. åˆå§‹åŒ–é¡¹ç›®: ai-cli-router init")
-            print("   3. å¼€å§‹ä½¿ç”¨åä½œåŠŸèƒ½: gemini-cli 'è¯·ç”¨claudeå¸®æˆ‘å®¡æŸ¥ä»£ç '")
-        else:
-            print("\nâŒ Gemini CLIé›†æˆå®‰è£…å¤±è´¥ï¼Œè¯·æ£€æŸ¥é”™è¯¯ä¿¡æ¯")
-    else:
-        parser.print_help()
-
-if __name__ == "__main__":
+"""
+Gemini CLI Extensioné›†æˆå®‰è£…è„šæœ¬
+ä¸ºGemini CLIå®‰è£…è·¨CLIåä½œæ„ŸçŸ¥èƒ½åŠ›
+
+ä½¿ç”¨æ–¹æ³•ï¼š
+python install_gemini_integration.py [--verify|--uninstall]
+"""
+
+import os
+import sys
+import json
+import shutil
+import argparse
+from pathlib import Path
+from datetime import datetime
+
+# è·å–å½“å‰æ–‡ä»¶ç›®å½•
+current_dir = Path(__file__).parent
+project_root = current_dir.parent.parent.parent
+
+# Gemini CLIé…ç½®è·¯å¾„
+GEMINI_CONFIG_DIR = os.path.expanduser("~/.config/gemini")
+GEMINI_EXTENSIONS_FILE = os.path.join(GEMINI_CONFIG_DIR, "extensions.json")
+
+def create_gemini_config_directory():
+    """åˆ›å»ºGeminié…ç½®ç›®å½•"""
+    os.makedirs(GEMINI_CONFIG_DIR, exist_ok=True)
+    print(f"âœ… åˆ›å»ºGeminié…ç½®ç›®å½•: {GEMINI_CONFIG_DIR}")
+
+def install_gemini_extensions():
+    """å®‰è£…Gemini Extensioné…ç½®"""
+    # è¯»å–ç°æœ‰extensionsé…ç½®
+    existing_extensions = {}
+    if os.path.exists(GEMINI_EXTENSIONS_FILE):
+        try:
+            with open(GEMINI_EXTENSIONS_FILE, 'r', encoding='utf-8') as f:
+                existing_extensions = json.load(f)
+        except Exception as e:
+            print(f"âš ï¸ è¯»å–ç°æœ‰extensionsé…ç½®å¤±è´¥: {e}")
+            existing_extensions = {}
+
+    # å®šä¹‰è·¨CLIåä½œçš„Extensioné…ç½®
+    cross_cli_extensions = {
+        "cross_cli_preprocessor": {
+            "module": "src.adapters.gemini.extension_adapter",
+            "class": "GeminiExtensionAdapter",
+            "enabled": True,
+            "priority": 100,
+            "config": {
+                "cross_cli_enabled": True,
+                "supported_clis": ["claude", "qwencode", "iflow", "qoder", "codebuddy", "copilot"],
+                "auto_detect": True,
+                "timeout": 30,
+                "error_handling": "continue",
+                "collaboration_mode": "active"
+            }
+        },
+        "cross_cli_response_processor": {
+            "module": "src.adapters.gemini.extension_adapter",
+            "class": "GeminiExtensionAdapter",
+            "enabled": True,
+            "priority": 90,
+            "config": {
+                "cross_cli_enabled": True,
+                "format_cross_cli_results": True,
+                "add_collaboration_header": True,
+                "include_tool_status": True
+            }
+        }
+    }
+
+    # åˆå¹¶é…ç½®ï¼ˆä¿ç•™ç°æœ‰é…ç½®ï¼Œæ·»åŠ åä½œåŠŸèƒ½ï¼‰
+    merged_extensions = existing_extensions.copy()
+    for ext_name, ext_config in cross_cli_extensions.items():
+        merged_extensions[ext_name] = ext_config
+
+    # å†™å…¥extensionsé…ç½®æ–‡ä»¶
+    try:
+        with open(GEMINI_EXTENSIONS_FILE, 'w', encoding='utf-8') as f:
+            json.dump(merged_extensions, f, indent=2, ensure_ascii=False)
+
+        print(f"âœ… Gemini Extensioné…ç½®å·²å®‰è£…: {GEMINI_EXTENSIONS_FILE}")
+        print("ğŸ”— å·²å®‰è£…çš„Extension:")
+        for ext_name in cross_cli_extensions.keys():
+            print(f"   - {ext_name}: âœ… è·¨CLIåä½œæ„ŸçŸ¥")
+
+        return True
+    except Exception as e:
+        print(f"âŒ å®‰è£…Gemini Extensioné…ç½®å¤±è´¥: {e}")
+        return False
+
+def copy_adapter_file():
+    """å¤åˆ¶é€‚é…å™¨æ–‡ä»¶åˆ°Geminié…ç½®ç›®å½•"""
+    try:
+        # åˆ›å»ºé€‚é…å™¨ç›®å½•
+        adapter_dir = os.path.join(GEMINI_CONFIG_DIR, "adapters")
+        os.makedirs(adapter_dir, exist_ok=True)
+
+        # å¤åˆ¶é€‚é…å™¨æ–‡ä»¶
+        adapter_files = [
+            "extension_adapter.py",
+            "standalone_gemini_adapter.py"
+        ]
+
+        for file_name in adapter_files:
+            src_file = current_dir / file_name
+            dst_file = os.path.join(adapter_dir, file_name)
+
+            if src_file.exists():
+                shutil.copy2(src_file, dst_file)
+                print(f"âœ… å¤åˆ¶é€‚é…å™¨æ–‡ä»¶: {file_name}")
+            else:
+                print(f"âš ï¸ é€‚é…å™¨æ–‡ä»¶ä¸å­˜åœ¨: {file_name}")
+
+        return True
+    except Exception as e:
+        print(f"âŒ å¤åˆ¶é€‚é…å™¨æ–‡ä»¶å¤±è´¥: {e}")
+        return False
+
+def verify_installation():
+    """éªŒè¯å®‰è£…æ˜¯å¦æˆåŠŸ"""
+    print("\nğŸ” éªŒè¯Gemini CLIé›†æˆå®‰è£…...")
+
+    # æ£€æŸ¥é…ç½®ç›®å½•
+    if not os.path.exists(GEMINI_CONFIG_DIR):
+        print(f"âŒ é…ç½®ç›®å½•ä¸å­˜åœ¨: {GEMINI_CONFIG_DIR}")
+        return False
+
+    # æ£€æŸ¥extensionsæ–‡ä»¶
+    if not os.path.exists(GEMINI_EXTENSIONS_FILE):
+        print(f"âŒ Extensionsé…ç½®æ–‡ä»¶ä¸å­˜åœ¨: {GEMINI_EXTENSIONS_FILE}")
+        return False
+
+    # æ£€æŸ¥é€‚é…å™¨ç›®å½•
+    adapter_dir = os.path.join(GEMINI_CONFIG_DIR, "adapters")
+    if not os.path.exists(adapter_dir):
+        print(f"âŒ é€‚é…å™¨ç›®å½•ä¸å­˜åœ¨: {adapter_dir}")
+        return False
+
+    # è¯»å–å¹¶éªŒè¯extensionsé…ç½®
+    try:
+        with open(GEMINI_EXTENSIONS_FILE, 'r', encoding='utf-8') as f:
+            extensions_config = json.load(f)
+
+        required_extensions = ["cross_cli_preprocessor", "cross_cli_response_processor"]
+        for ext_name in required_extensions:
+            if ext_name in extensions_config:
+                ext_config = extensions_config[ext_name]
+                if ext_config.get("enabled", False):
+                    print(f"âœ… Extension {ext_name}: å·²å¯ç”¨")
+                    if "cross_cli_enabled" in ext_config.get("config", {}):
+                        print(f"âœ…   è·¨CLIåä½œ: å·²å¯ç”¨")
+                else:
+                    print(f"âš ï¸ Extension {ext_name}: æœªå¯ç”¨")
+            else:
+                print(f"âŒ ç¼ºå°‘Extension: {ext_name}")
+
+        return True
+    except Exception as e:
+        print(f"âŒ éªŒè¯é…ç½®å¤±è´¥: {e}")
+        return False
+
+def uninstall_gemini_integration():
+    """å¸è½½Gemini CLIé›†æˆ"""
+    try:
+        # å¤‡ä»½ç°æœ‰é…ç½®
+        if os.path.exists(GEMINI_EXTENSIONS_FILE):
+            backup_file = f"{GEMINI_EXTENSIONS_FILE}.backup_{datetime.now().strftime('%Y%m%d_%H%M%S')}"
+            shutil.copy2(GEMINI_EXTENSIONS_FILE, backup_file)
+            print(f"ğŸ“¦ å·²å¤‡ä»½ç°æœ‰é…ç½®: {backup_file}")
+
+        # ç§»é™¤é€‚é…å™¨ç›®å½•
+        adapter_dir = os.path.join(GEMINI_CONFIG_DIR, "adapters")
+        if os.path.exists(adapter_dir):
+            shutil.rmtree(adapter_dir)
+            print(f"ğŸ—‘ï¸ å·²åˆ é™¤é€‚é…å™¨ç›®å½•: {adapter_dir}")
+
+        print("âœ… Gemini CLIé›†æˆå·²å¸è½½")
+        return True
+    except Exception as e:
+        print(f"âŒ å¸è½½å¤±è´¥: {e}")
+        return False
+
+def main():
+    parser = argparse.ArgumentParser(
+        description="Gemini CLIè·¨CLIåä½œé›†æˆå®‰è£…è„šæœ¬",
+        formatter_class=argparse.RawDescriptionHelpFormatter
+    )
+
+    parser.add_argument(
+        "--install",
+        action="store_true",
+        help="å®‰è£…Gemini CLIè·¨CLIåä½œé›†æˆ"
+    )
+
+    parser.add_argument(
+        "--verify",
+        action="store_true",
+        help="éªŒè¯Gemini CLIé›†æˆå®‰è£…"
+    )
+
+    parser.add_argument(
+        "--uninstall",
+        action="store_true",
+        help="å¸è½½Gemini CLIè·¨CLIåä½œé›†æˆ"
+    )
+
+    args = parser.parse_args()
+
+    print("ğŸŒŸ Gemini CLIè·¨CLIåä½œé›†æˆå®‰è£…å™¨")
+    print("=" * 50)
+
+    if args.uninstall:
+        print("[UNINSTALL] å¸è½½æ¨¡å¼...")
+        success = uninstall_gemini_integration()
+    elif args.verify:
+        print("[VERIFY] éªŒè¯æ¨¡å¼...")
+        success = verify_installation()
+    elif args.install or len(sys.argv) == 1:
+        print("[INSTALL] å®‰è£…æ¨¡å¼...")
+
+        # 1. åˆ›å»ºé…ç½®ç›®å½•
+        print("\nStep 1. åˆ›å»ºé…ç½®ç›®å½•...")
+        create_gemini_config_directory()
+
+        # 2. å®‰è£…Extensioné…ç½®
+        print("\nStep 2. å®‰è£…Extensioné…ç½®...")
+        extensions_success = install_gemini_extensions()
+
+        # 3. å¤åˆ¶é€‚é…å™¨æ–‡ä»¶
+        print("\nStep 3. å¤åˆ¶é€‚é…å™¨æ–‡ä»¶...")
+        adapter_success = copy_adapter_file()
+
+        # 4. éªŒè¯å®‰è£…
+        print("\nStep 4. éªŒè¯å®‰è£…...")
+        verify_success = verify_installation()
+
+        success = extensions_success and adapter_success and verify_success
+
+        if success:
+            print("\nğŸ‰ Gemini CLIé›†æˆå®‰è£…æˆåŠŸï¼")
+            print("\nğŸ“‹ å®‰è£…æ‘˜è¦:")
+            print(f"   âœ… é…ç½®ç›®å½•: {GEMINI_CONFIG_DIR}")
+            print(f"   âœ… Extensionsé…ç½®: {GEMINI_EXTENSIONS_FILE}")
+            print(f"   âœ… é€‚é…å™¨ç›®å½•: {os.path.join(GEMINI_CONFIG_DIR, 'adapters')}")
+
+            print("\nğŸš€ ä¸‹ä¸€æ­¥:")
+            print("   1. å®‰è£…å…¶ä»–CLIå·¥å…·çš„é›†æˆ: ai-cli-router deploy --all")
+            print("   2. åˆå§‹åŒ–é¡¹ç›®: ai-cli-router init")
+            print("   3. å¼€å§‹ä½¿ç”¨åä½œåŠŸèƒ½: gemini-cli 'è¯·ç”¨claudeå¸®æˆ‘å®¡æŸ¥ä»£ç '")
+        else:
+            print("\nâŒ Gemini CLIé›†æˆå®‰è£…å¤±è´¥ï¼Œè¯·æ£€æŸ¥é”™è¯¯ä¿¡æ¯")
+    else:
+        parser.print_help()
+
+if __name__ == "__main__":
     main()
\ No newline at end of file
diff --git a/src/adapters/iflow/install_iflow_integration.py b/src/adapters/iflow/install_iflow_integration.py
index 6c9be1a..80f757e 100644
--- a/src/adapters/iflow/install_iflow_integration.py
+++ b/src/adapters/iflow/install_iflow_integration.py
@@ -1,271 +1,271 @@
-"""
-iFlow CLI Hooké›†æˆå®‰è£…è„šæœ¬
-ä¸ºiFlow CLIå®‰è£…è·¨CLIåä½œæ„ŸçŸ¥èƒ½åŠ›
-
-ä½¿ç”¨æ–¹æ³•ï¼š
-python install_iflow_integration.py [--verify|--uninstall]
-"""
-
-import os
-import sys
-import json
-import shutil
-import argparse
-from pathlib import Path
-from datetime import datetime
-
-# è·å–å½“å‰æ–‡ä»¶ç›®å½•
-current_dir = Path(__file__).parent
-project_root = current_dir.parent.parent.parent
-
-# iFlow CLIé…ç½®è·¯å¾„
-IFLOW_CONFIG_DIR = os.path.expanduser("~/.config/iflow")
-IFLOW_HOOKS_FILE = os.path.join(IFLOW_CONFIG_DIR, "hooks.yml")
-
-def create_iflow_config_directory():
-    """åˆ›å»ºiFlowé…ç½®ç›®å½•"""
-    os.makedirs(IFLOW_CONFIG_DIR, exist_ok=True)
-    print(f"âœ… åˆ›å»ºiFlowé…ç½®ç›®å½•: {IFLOW_CONFIG_DIR}")
-
-def install_iflow_hooks():
-    """å®‰è£…iFlow Hooké…ç½®"""
-    # è¯»å–ç°æœ‰hooksé…ç½®
-    existing_hooks = {}
-    if os.path.exists(IFLOW_HOOKS_FILE):
-        try:
-            import yaml
-            with open(IFLOW_HOOKS_FILE, 'r', encoding='utf-8') as f:
-                existing_hooks = yaml.safe_load(f) or {}
-        except Exception as e:
-            print(f"âš ï¸ è¯»å–ç°æœ‰hooksé…ç½®å¤±è´¥: {e}")
-            existing_hooks = {}
-
-    # å®šä¹‰è·¨CLIåä½œçš„Hooké…ç½®
-    cross_cli_hooks = {
-        "cross_cli_hook_adapter": {
-            "name": "CrossCLIHookAdapter",
-            "module": "src.adapters.iflow.hook_adapter",
-            "class": "IFlowHookAdapter",
-            "enabled": True,
-            "priority": 100,
-            "hooks": [
-                "on_command_start",
-                "on_command_end",
-                "on_user_input",
-                "on_workflow_stage",
-                "on_pipeline_execute",
-                "on_output_render",
-                "on_error"
-            ],
-            "config": {
-                "cross_cli_enabled": True,
-                "supported_clis": ["claude", "gemini", "qwencode", "qoder", "codebuddy", "copilot"],
-                "auto_detect": True,
-                "timeout": 30,
-                "error_handling": "continue",
-                "collaboration_mode": "active"
-            }
-        }
-    }
-
-    # åˆå¹¶é…ç½®ï¼ˆä¿ç•™ç°æœ‰hooksï¼Œæ·»åŠ åä½œåŠŸèƒ½ï¼‰
-    merged_hooks = existing_hooks.copy()
-    if 'plugins' not in merged_hooks:
-        merged_hooks['plugins'] = []
-
-    # æ£€æŸ¥æ˜¯å¦å·²å­˜åœ¨è·¨CLI Hook
-    existing_plugin_names = [plugin.get('name') for plugin in merged_hooks.get('plugins', [])]
-    cross_cli_hook_exists = any(plugin_name == 'CrossCLIHookAdapter' for plugin_name in existing_plugin_names)
-
-    if not cross_cli_hook_exists:
-        merged_hooks['plugins'].append(cross_cli_hooks['cross_cli_hook_adapter'])
-
-    # å†™å…¥hooksé…ç½®æ–‡ä»¶
-    try:
-        import yaml
-        with open(IFLOW_HOOKS_FILE, 'w', encoding='utf-8') as f:
-            yaml.dump(merged_hooks, f, default_flow_style=False, allow_unicode=True)
-
-        print(f"âœ… iFlow Hooké…ç½®å·²å®‰è£…: {IFLOW_HOOKS_FILE}")
-        print("ğŸ”— å·²å®‰è£…çš„Hook:")
-        for plugin in merged_hooks.get('plugins', []):
-            if plugin.get('name') == 'CrossCLIHookAdapter':
-                print(f"   - {plugin['name']}: âœ… è·¨CLIåä½œæ„ŸçŸ¥")
-                print(f"     æ”¯æŒçš„CLI: {', '.join(plugin['config'].get('supported_clis', []))}")
-
-        return True
-    except Exception as e:
-        print(f"âŒ å®‰è£…iFlow Hooké…ç½®å¤±è´¥: {e}")
-        return False
-
-def copy_adapter_file():
-    """å¤åˆ¶é€‚é…å™¨æ–‡ä»¶åˆ°iFlowé…ç½®ç›®å½•"""
-    try:
-        # åˆ›å»ºé€‚é…å™¨ç›®å½•
-        adapter_dir = os.path.join(IFLOW_CONFIG_DIR, "adapters")
-        os.makedirs(adapter_dir, exist_ok=True)
-
-        # å¤åˆ¶é€‚é…å™¨æ–‡ä»¶
-        adapter_files = [
-            "hook_adapter.py",
-            "standalone_iflow_adapter.py"
-        ]
-
-        for file_name in adapter_files:
-            src_file = current_dir / file_name
-            dst_file = os.path.join(adapter_dir, file_name)
-
-            if src_file.exists():
-                shutil.copy2(src_file, dst_file)
-                print(f"âœ… å¤åˆ¶é€‚é…å™¨æ–‡ä»¶: {file_name}")
-            else:
-                print(f"âš ï¸ é€‚é…å™¨æ–‡ä»¶ä¸å­˜åœ¨: {file_name}")
-
-        return True
-    except Exception as e:
-        print(f"âŒ å¤åˆ¶é€‚é…å™¨æ–‡ä»¶å¤±è´¥: {e}")
-        return False
-
-def verify_installation():
-    """éªŒè¯å®‰è£…æ˜¯å¦æˆåŠŸ"""
-    print("\nğŸ” éªŒè¯iFlow CLIé›†æˆå®‰è£…...")
-
-    # æ£€æŸ¥é…ç½®ç›®å½•
-    if not os.path.exists(IFLOW_CONFIG_DIR):
-        print(f"âŒ é…ç½®ç›®å½•ä¸å­˜åœ¨: {IFLOW_CONFIG_DIR}")
-        return False
-
-    # æ£€æŸ¥hooksæ–‡ä»¶
-    if not os.path.exists(IFLOW_HOOKS_FILE):
-        print(f"âŒ Hooksé…ç½®æ–‡ä»¶ä¸å­˜åœ¨: {IFLOW_HOOKS_FILE}")
-        return False
-
-    # æ£€æŸ¥é€‚é…å™¨ç›®å½•
-    adapter_dir = os.path.join(IFLOW_CONFIG_DIR, "adapters")
-    if not os.path.exists(adapter_dir):
-        print(f"âŒ é€‚é…å™¨ç›®å½•ä¸å­˜åœ¨: {adapter_dir}")
-        return False
-
-    # è¯»å–å¹¶éªŒè¯hooksé…ç½®
-    try:
-        import yaml
-        with open(IFLOW_HOOKS_FILE, 'r', encoding='utf-8') as f:
-            hooks_config = yaml.safe_load(f) or {}
-
-        plugins = hooks_config.get('plugins', [])
-        cross_cli_plugin = None
-
-        for plugin in plugins:
-            if plugin.get('name') == 'CrossCLIHookAdapter':
-                cross_cli_plugin = plugin
-                print(f"âœ… è·¨CLIåä½œHook: å·²å¯ç”¨")
-                print(f"âœ… æ”¯æŒçš„CLIå·¥å…·: {', '.join(plugin.get('config', {}).get('supported_clis', []))}")
-                break
-
-        if not cross_cli_plugin:
-            print("âŒ è·¨CLIåä½œHook: æœªæ‰¾åˆ°")
-            return False
-
-    except Exception as e:
-        print(f"âŒ è¯»å–hooksé…ç½®å¤±è´¥: {e}")
-        return False
-
-def uninstall_iflow_integration():
-    """å¸è½½iFlowé›†æˆ"""
-    try:
-        # å¤‡ä»½ç°æœ‰é…ç½®
-        if os.path.exists(IFLOW_HOOKS_FILE):
-            backup_file = f"{IFLOW_HOOKS_FILE}.backup_{datetime.now().strftime('%Y%m%d_%H%M%S')}"
-            shutil.copy2(IFLOW_HOOKS_FILE, backup_file)
-            print(f"ğŸ“¦ å·²å¤‡ä»½ç°æœ‰é…ç½®: {backup_file}")
-
-        # ç§»é™¤è·¨CLI Hook
-        if os.path.exists(IFLOW_HOOKS_FILE):
-            import yaml
-            with open(IFLOW_HOOKS_FILE, 'r', encoding='utf-8') as f:
-                hooks_config = yaml.safe_load(f) or {}
-
-            if 'plugins' in hooks_config:
-                plugins = hooks_config['plugins']
-                # ç§»é™¤è·¨CLI Hook
-                plugins = [p for p in plugins if p.get('name') != 'CrossCLIHookAdapter']
-
-                hooks_config['plugins'] = plugins
-
-                # å†™å›é…ç½®
-                with open(IFLOW_HOOKS_FILE, 'w', encoding='utf-8') as f:
-                    yaml.dump(hooks_config, f, default_flow_style=False, allow_unicode=True)
-
-        print("âœ… iFlowè·¨CLIåä½œé›†æˆå·²å¸è½½")
-        return True
-    except Exception as e:
-        print(f"âŒ å¸è½½å¤±è´¥: {e}")
-        return False
-
-def main():
-    parser = argparse.ArgumentParser(
-        description="iFlow CLIè·¨CLIåä½œé›†æˆå®‰è£…è„šæœ¬",
-        formatter_class=argparse.RawDescriptionHelpFormatter
-    )
-
-    parser.add_argument(
-        "--install",
-        action="store_true",
-        help="å®‰è£…iFlow CLIè·¨CLIåä½œé›†æˆ"
-    )
-
-    parser.add_argument(
-        "--verify",
-        action="store_true",
-        help="éªŒè¯iFlow CLIé›†æˆå®‰è£…"
-    )
-
-    parser.add_argument(
-        "--uninstall",
-        action="store_true",
-        help="å¸è½½iFlow CLIè·¨CLIåä½œé›†æˆ"
-    )
-
-    args = parser.parse_args()
-
-    print("ğŸ”„ iFlow CLIè·¨CLIåä½œé›†æˆå®‰è£…å™¨")
-    print("=" * 60)
-
-    if args.uninstall:
-        print("ğŸ—‘ï¸ å¸è½½æ¨¡å¼...")
-        success = uninstall_iflow_integration()
-    elif args.verify:
-        print("ğŸ” éªŒè¯æ¨¡å¼...")
-        success = verify_installation()
-    elif args.install or len(sys.argv) == 1:
-        print("ğŸ“¦ å®‰è£…æ¨¡å¼...")
-
-        # 1. åˆ›å»ºé…ç½®ç›®å½•
-        print("1ï¸âƒ£ åˆ›å»ºé…ç½®ç›®å½•...")
-        create_iflow_config_directory()
-
-        # 2. å®‰è£…hooksé…ç½®
-        print("2ï¸âƒ£ å®‰è£…hooksé…ç½®...")
-        hooks_success = install_iflow_hooks()
-
-        # 3. å¤åˆ¶é€‚é…å™¨æ–‡ä»¶
-        print("3ï¸âƒ£ å¤åˆ¶é€‚é…å™¨æ–‡ä»¶...")
-        adapter_success = copy_adapter_file()
-
-        success = hooks_success and adapter_success
-
-        if success:
-            print("\nğŸ‰ iFlow CLIé›†æˆå®‰è£…æˆåŠŸï¼")
-            print("\nğŸ“‹ å®‰è£…æ‘˜è¦:")
-            print(f"   âœ… é…ç½®ç›®å½•: {IFLOW_CONFIG_DIR}")
-            print(f"   âœ… Hooksæ–‡ä»¶: {IFLOW_HOOKS_FILE}")
-            print(f"   âœ… é€‚é…å™¨ç›®å½•: {os.path.join(IFLOW_CONFIG_DIR, 'adapters')}")
-            print(f"   âœ… è·¨CLIåä½œ: å·²å¯ç”¨")
-            print(f"   âœ… æ”¯æŒçš„CLI: claude, gemini, qwencode, qoder, codebuddy, copilot")
-        else:
-            print("\nâŒ iFlow CLIé›†æˆå®‰è£…å¤±è´¥ï¼")
-    else:
-        parser.print_help()
-
-if __name__ == "__main__":
+"""
+iFlow CLI Hooké›†æˆå®‰è£…è„šæœ¬
+ä¸ºiFlow CLIå®‰è£…è·¨CLIåä½œæ„ŸçŸ¥èƒ½åŠ›
+
+ä½¿ç”¨æ–¹æ³•ï¼š
+python install_iflow_integration.py [--verify|--uninstall]
+"""
+
+import os
+import sys
+import json
+import shutil
+import argparse
+from pathlib import Path
+from datetime import datetime
+
+# è·å–å½“å‰æ–‡ä»¶ç›®å½•
+current_dir = Path(__file__).parent
+project_root = current_dir.parent.parent.parent
+
+# iFlow CLIé…ç½®è·¯å¾„
+IFLOW_CONFIG_DIR = os.path.expanduser("~/.config/iflow")
+IFLOW_HOOKS_FILE = os.path.join(IFLOW_CONFIG_DIR, "hooks.yml")
+
+def create_iflow_config_directory():
+    """åˆ›å»ºiFlowé…ç½®ç›®å½•"""
+    os.makedirs(IFLOW_CONFIG_DIR, exist_ok=True)
+    print(f"âœ… åˆ›å»ºiFlowé…ç½®ç›®å½•: {IFLOW_CONFIG_DIR}")
+
+def install_iflow_hooks():
+    """å®‰è£…iFlow Hooké…ç½®"""
+    # è¯»å–ç°æœ‰hooksé…ç½®
+    existing_hooks = {}
+    if os.path.exists(IFLOW_HOOKS_FILE):
+        try:
+            import yaml
+            with open(IFLOW_HOOKS_FILE, 'r', encoding='utf-8') as f:
+                existing_hooks = yaml.safe_load(f) or {}
+        except Exception as e:
+            print(f"âš ï¸ è¯»å–ç°æœ‰hooksé…ç½®å¤±è´¥: {e}")
+            existing_hooks = {}
+
+    # å®šä¹‰è·¨CLIåä½œçš„Hooké…ç½®
+    cross_cli_hooks = {
+        "cross_cli_hook_adapter": {
+            "name": "CrossCLIHookAdapter",
+            "module": "src.adapters.iflow.hook_adapter",
+            "class": "IFlowHookAdapter",
+            "enabled": True,
+            "priority": 100,
+            "hooks": [
+                "on_command_start",
+                "on_command_end",
+                "on_user_input",
+                "on_workflow_stage",
+                "on_pipeline_execute",
+                "on_output_render",
+                "on_error"
+            ],
+            "config": {
+                "cross_cli_enabled": True,
+                "supported_clis": ["claude", "gemini", "qwencode", "qoder", "codebuddy", "copilot"],
+                "auto_detect": True,
+                "timeout": 30,
+                "error_handling": "continue",
+                "collaboration_mode": "active"
+            }
+        }
+    }
+
+    # åˆå¹¶é…ç½®ï¼ˆä¿ç•™ç°æœ‰hooksï¼Œæ·»åŠ åä½œåŠŸèƒ½ï¼‰
+    merged_hooks = existing_hooks.copy()
+    if 'plugins' not in merged_hooks:
+        merged_hooks['plugins'] = []
+
+    # æ£€æŸ¥æ˜¯å¦å·²å­˜åœ¨è·¨CLI Hook
+    existing_plugin_names = [plugin.get('name') for plugin in merged_hooks.get('plugins', [])]
+    cross_cli_hook_exists = any(plugin_name == 'CrossCLIHookAdapter' for plugin_name in existing_plugin_names)
+
+    if not cross_cli_hook_exists:
+        merged_hooks['plugins'].append(cross_cli_hooks['cross_cli_hook_adapter'])
+
+    # å†™å…¥hooksé…ç½®æ–‡ä»¶
+    try:
+        import yaml
+        with open(IFLOW_HOOKS_FILE, 'w', encoding='utf-8') as f:
+            yaml.dump(merged_hooks, f, default_flow_style=False, allow_unicode=True)
+
+        print(f"âœ… iFlow Hooké…ç½®å·²å®‰è£…: {IFLOW_HOOKS_FILE}")
+        print("ğŸ”— å·²å®‰è£…çš„Hook:")
+        for plugin in merged_hooks.get('plugins', []):
+            if plugin.get('name') == 'CrossCLIHookAdapter':
+                print(f"   - {plugin['name']}: âœ… è·¨CLIåä½œæ„ŸçŸ¥")
+                print(f"     æ”¯æŒçš„CLI: {', '.join(plugin['config'].get('supported_clis', []))}")
+
+        return True
+    except Exception as e:
+        print(f"âŒ å®‰è£…iFlow Hooké…ç½®å¤±è´¥: {e}")
+        return False
+
+def copy_adapter_file():
+    """å¤åˆ¶é€‚é…å™¨æ–‡ä»¶åˆ°iFlowé…ç½®ç›®å½•"""
+    try:
+        # åˆ›å»ºé€‚é…å™¨ç›®å½•
+        adapter_dir = os.path.join(IFLOW_CONFIG_DIR, "adapters")
+        os.makedirs(adapter_dir, exist_ok=True)
+
+        # å¤åˆ¶é€‚é…å™¨æ–‡ä»¶
+        adapter_files = [
+            "hook_adapter.py",
+            "standalone_iflow_adapter.py"
+        ]
+
+        for file_name in adapter_files:
+            src_file = current_dir / file_name
+            dst_file = os.path.join(adapter_dir, file_name)
+
+            if src_file.exists():
+                shutil.copy2(src_file, dst_file)
+                print(f"âœ… å¤åˆ¶é€‚é…å™¨æ–‡ä»¶: {file_name}")
+            else:
+                print(f"âš ï¸ é€‚é…å™¨æ–‡ä»¶ä¸å­˜åœ¨: {file_name}")
+
+        return True
+    except Exception as e:
+        print(f"âŒ å¤åˆ¶é€‚é…å™¨æ–‡ä»¶å¤±è´¥: {e}")
+        return False
+
+def verify_installation():
+    """éªŒè¯å®‰è£…æ˜¯å¦æˆåŠŸ"""
+    print("\nğŸ” éªŒè¯iFlow CLIé›†æˆå®‰è£…...")
+
+    # æ£€æŸ¥é…ç½®ç›®å½•
+    if not os.path.exists(IFLOW_CONFIG_DIR):
+        print(f"âŒ é…ç½®ç›®å½•ä¸å­˜åœ¨: {IFLOW_CONFIG_DIR}")
+        return False
+
+    # æ£€æŸ¥hooksæ–‡ä»¶
+    if not os.path.exists(IFLOW_HOOKS_FILE):
+        print(f"âŒ Hooksé…ç½®æ–‡ä»¶ä¸å­˜åœ¨: {IFLOW_HOOKS_FILE}")
+        return False
+
+    # æ£€æŸ¥é€‚é…å™¨ç›®å½•
+    adapter_dir = os.path.join(IFLOW_CONFIG_DIR, "adapters")
+    if not os.path.exists(adapter_dir):
+        print(f"âŒ é€‚é…å™¨ç›®å½•ä¸å­˜åœ¨: {adapter_dir}")
+        return False
+
+    # è¯»å–å¹¶éªŒè¯hooksé…ç½®
+    try:
+        import yaml
+        with open(IFLOW_HOOKS_FILE, 'r', encoding='utf-8') as f:
+            hooks_config = yaml.safe_load(f) or {}
+
+        plugins = hooks_config.get('plugins', [])
+        cross_cli_plugin = None
+
+        for plugin in plugins:
+            if plugin.get('name') == 'CrossCLIHookAdapter':
+                cross_cli_plugin = plugin
+                print(f"âœ… è·¨CLIåä½œHook: å·²å¯ç”¨")
+                print(f"âœ… æ”¯æŒçš„CLIå·¥å…·: {', '.join(plugin.get('config', {}).get('supported_clis', []))}")
+                break
+
+        if not cross_cli_plugin:
+            print("âŒ è·¨CLIåä½œHook: æœªæ‰¾åˆ°")
+            return False
+
+    except Exception as e:
+        print(f"âŒ è¯»å–hooksé…ç½®å¤±è´¥: {e}")
+        return False
+
+def uninstall_iflow_integration():
+    """å¸è½½iFlowé›†æˆ"""
+    try:
+        # å¤‡ä»½ç°æœ‰é…ç½®
+        if os.path.exists(IFLOW_HOOKS_FILE):
+            backup_file = f"{IFLOW_HOOKS_FILE}.backup_{datetime.now().strftime('%Y%m%d_%H%M%S')}"
+            shutil.copy2(IFLOW_HOOKS_FILE, backup_file)
+            print(f"ğŸ“¦ å·²å¤‡ä»½ç°æœ‰é…ç½®: {backup_file}")
+
+        # ç§»é™¤è·¨CLI Hook
+        if os.path.exists(IFLOW_HOOKS_FILE):
+            import yaml
+            with open(IFLOW_HOOKS_FILE, 'r', encoding='utf-8') as f:
+                hooks_config = yaml.safe_load(f) or {}
+
+            if 'plugins' in hooks_config:
+                plugins = hooks_config['plugins']
+                # ç§»é™¤è·¨CLI Hook
+                plugins = [p for p in plugins if p.get('name') != 'CrossCLIHookAdapter']
+
+                hooks_config['plugins'] = plugins
+
+                # å†™å›é…ç½®
+                with open(IFLOW_HOOKS_FILE, 'w', encoding='utf-8') as f:
+                    yaml.dump(hooks_config, f, default_flow_style=False, allow_unicode=True)
+
+        print("âœ… iFlowè·¨CLIåä½œé›†æˆå·²å¸è½½")
+        return True
+    except Exception as e:
+        print(f"âŒ å¸è½½å¤±è´¥: {e}")
+        return False
+
+def main():
+    parser = argparse.ArgumentParser(
+        description="iFlow CLIè·¨CLIåä½œé›†æˆå®‰è£…è„šæœ¬",
+        formatter_class=argparse.RawDescriptionHelpFormatter
+    )
+
+    parser.add_argument(
+        "--install",
+        action="store_true",
+        help="å®‰è£…iFlow CLIè·¨CLIåä½œé›†æˆ"
+    )
+
+    parser.add_argument(
+        "--verify",
+        action="store_true",
+        help="éªŒè¯iFlow CLIé›†æˆå®‰è£…"
+    )
+
+    parser.add_argument(
+        "--uninstall",
+        action="store_true",
+        help="å¸è½½iFlow CLIè·¨CLIåä½œé›†æˆ"
+    )
+
+    args = parser.parse_args()
+
+    print("[INSTALL] iFlow CLIè·¨CLIåä½œé›†æˆå®‰è£…å™¨")
+    print("=" * 60)
+
+    if args.uninstall:
+        print("[UNINSTALL] å¸è½½æ¨¡å¼...")
+        success = uninstall_iflow_integration()
+    elif args.verify:
+        print("[VERIFY] éªŒè¯æ¨¡å¼...")
+        success = verify_installation()
+    elif args.install or len(sys.argv) == 1:
+        print("[INSTALL] å®‰è£…æ¨¡å¼...")
+
+        # 1. åˆ›å»ºé…ç½®ç›®å½•
+        print("Step 1. åˆ›å»ºé…ç½®ç›®å½•...")
+        create_iflow_config_directory()
+
+        # 2. å®‰è£…hooksé…ç½®
+        print("Step 2. å®‰è£…hooksé…ç½®...")
+        hooks_success = install_iflow_hooks()
+
+        # 3. å¤åˆ¶é€‚é…å™¨æ–‡ä»¶
+        print("Step 3. å¤åˆ¶é€‚é…å™¨æ–‡ä»¶...")
+        adapter_success = copy_adapter_file()
+
+        success = hooks_success and adapter_success
+
+        if success:
+            print("\nğŸ‰ iFlow CLIé›†æˆå®‰è£…æˆåŠŸï¼")
+            print("\nğŸ“‹ å®‰è£…æ‘˜è¦:")
+            print(f"   âœ… é…ç½®ç›®å½•: {IFLOW_CONFIG_DIR}")
+            print(f"   âœ… Hooksæ–‡ä»¶: {IFLOW_HOOKS_FILE}")
+            print(f"   âœ… é€‚é…å™¨ç›®å½•: {os.path.join(IFLOW_CONFIG_DIR, 'adapters')}")
+            print(f"   âœ… è·¨CLIåä½œ: å·²å¯ç”¨")
+            print(f"   âœ… æ”¯æŒçš„CLI: claude, gemini, qwencode, qoder, codebuddy, copilot")
+        else:
+            print("\nâŒ iFlow CLIé›†æˆå®‰è£…å¤±è´¥ï¼")
+    else:
+        parser.print_help()
+
+if __name__ == "__main__":
     main()
\ No newline at end of file
diff --git a/src/adapters/qoder/install_qoder_integration.py b/src/adapters/qoder/install_qoder_integration.py
index 3e29dca..29504bb 100644
--- a/src/adapters/qoder/install_qoder_integration.py
+++ b/src/adapters/qoder/install_qoder_integration.py
@@ -1,265 +1,265 @@
-"""
-Qoder CLI Notification Hooké›†æˆå®‰è£…è„šæœ¬
-ä¸ºQoder CLIå®‰è£…è·¨CLIåä½œæ„ŸçŸ¥èƒ½åŠ›
-
-ä½¿ç”¨æ–¹æ³•ï¼š
-python install_qoder_integration.py [--verify|--uninstall]
-"""
-
-import os
-import sys
-import json
-import shutil
-import argparse
-from pathlib import Path
-from datetime import datetime
-
-# è·å–å½“å‰æ–‡ä»¶ç›®å½•
-current_dir = Path(__file__).parent
-project_root = current_dir.parent.parent.parent
-
-# Qoder CLIé…ç½®è·¯å¾„
-QODER_CONFIG_FILE = os.path.expanduser("~/.qoder/config.json")
-
-def install_qoder_hooks():
-    """å®‰è£…Qoder Notification Hooké…ç½®"""
-    # è¯»å–ç°æœ‰configé…ç½®
-    existing_config = {}
-    if os.path.exists(QODER_CONFIG_FILE):
-        try:
-            with open(QODER_CONFIG_FILE, 'r', encoding='utf-8') as f:
-                existing_config = json.load(f)
-        except Exception as e:
-            print(f"âš ï¸ è¯»å–ç°æœ‰configé…ç½®å¤±è´¥: {e}")
-            existing_config = {}
-
-    # å®šä¹‰è·¨CLIåä½œçš„Hooké…ç½®
-    cross_cli_hooks = {
-        "cross_cli_notification_hook": {
-            "name": "CrossCLINotificationHook",
-            "module": "src.adapters.qoder.notification_hook_adapter",
-            "class": "QoderNotificationHookAdapter",
-            "enabled": True,
-            "priority": 100,
-            "triggers": [
-                "on_command_execution",
-                "on_tool_detected",
-                "on_collaboration_request"
-            ],
-            "config": {
-                "cross_cli_enabled": True,
-                "supported_clis": ["claude", "gemini", "qwencode", "iflow", "codebuddy", "copilot"],
-                "auto_detect": True,
-                "timeout": 30,
-                "notification_channel": "file_system",
-                "error_handling": "continue"
-            }
-        }
-    }
-
-    # åˆå¹¶é…ç½®ï¼ˆä¿ç•™ç°æœ‰hooksï¼Œæ·»åŠ åä½œåŠŸèƒ½ï¼‰
-    merged_config = existing_config.copy()
-    if 'hooks' not in merged_config:
-        merged_config['hooks'] = []
-
-    # æ£€æŸ¥æ˜¯å¦å·²å­˜åœ¨è·¨CLIé€šçŸ¥Hook
-    existing_hook_names = [hook.get('name') for hook in merged_config.get('hooks', [])]
-    cross_cli_hook_name = "CrossCLINotificationHook"
-
-    if cross_cli_hook_name not in existing_hook_names:
-        merged_config['hooks'].append(cross_cli_hooks['cross_cli_notification_hook'])
-
-    # å†™å…¥é…ç½®æ–‡ä»¶
-    try:
-        with open(QODER_CONFIG_FILE, 'w', encoding='utf-8') as f:
-            json.dump(merged_config, f, indent=2, ensure_ascii=False)
-
-        print(f"âœ… Qoderé…ç½®å·²å®‰è£…: {QODER_CONFIG_FILE}")
-        print("ğŸ”— å·²å®‰è£…çš„Hook:")
-        for hook_name in [hook.get('name') for hook in merged_config.get('hooks', [])]:
-            if hook.get('enabled', False):
-                status = "âŒ"
-            else:
-                status = "âœ…"
-            print(f"   - {hook_name}: {status}")
-
-        return True
-    except Exception as e:
-        print(f"âŒ å®‰è£…Qoderé…ç½®å¤±è´¥: {e}")
-        return False
-
-def copy_adapter_file():
-    """å¤åˆ¶é€‚é…å™¨æ–‡ä»¶åˆ°Qoderé…ç½®ç›®å½•"""
-    try:
-        # åˆ›å»ºé€‚é…å™¨ç›®å½•
-        adapter_dir = os.path.dirname(QODER_CONFIG_FILE)
-        os.makedirs(adapter_dir, exist_ok=True)
-
-        # å¤åˆ¶é€‚é…å™¨æ–‡ä»¶
-        adapter_files = [
-            "notification_hook_adapter.py",
-            "standalone_qoder_adapter.py"
-        ]
-
-        for file_name in adapter_files:
-            src_file = current_dir / file_name
-            dst_file = os.path.join(adapter_dir, file_name)
-
-            if src_file.exists():
-                shutil.copy2(src_file, dst_file)
-                print(f"âœ… å¤åˆ¶é€‚é…å™¨æ–‡ä»¶: {file_name}")
-            else:
-                print(f"âš ï¸ é€‚é…å™¨æ–‡ä»¶ä¸å­˜åœ¨: {file_name}")
-
-        return True
-    except Exception as e:
-        print(f"âŒ å¤åˆ¶é€‚é…å™¨æ–‡ä»¶å¤±è´¥: {e}")
-        return False
-
-def verify_installation():
-    """éªŒè¯å®‰è£…æ˜¯å¦æˆåŠŸ"""
-    print("\nğŸ” éªŒè¯Qoder CLIé›†æˆå®‰è£…...")
-
-    # æ£€æŸ¥é…ç½®æ–‡ä»¶
-    if not os.path.exists(QODER_CONFIG_FILE):
-        print(f"âŒ é…ç½®æ–‡ä»¶ä¸å­˜åœ¨: {QODER_CONFIG_FILE}")
-        return False
-
-    try:
-        with open(QODER_CONFIG_FILE, 'r', encoding='utf-8') as f:
-            config = json.load(f)
-
-        hooks = config.get('hooks', [])
-        cross_cli_hook = None
-        for hook in hooks:
-            if hook.get('name') == 'CrossCLINotificationHook':
-                cross_cli_hook = hook
-                break
-
-        if cross_cli_hook:
-            print("âœ… è·¨CLIåä½œHookå·²å®‰è£…")
-            print(f"   - Hookåç§°: {cross_cli_hook.get('name')}")
-            print(f"   - å¯ç”¨çŠ¶æ€: {'âœ…' if cross_cli_hook.get('enabled') else 'âŒ'}")
-            print(f"   - æ”¯æŒçš„CLIå·¥å…·: {cross_cli_hook.get('config', {}).get('supported_clis', [])}")
-            print(f"   - è‡ªåŠ¨æ£€æµ‹: {'âœ…' if cross_cli_hook.get('config', {}).get('auto_detect') else 'âŒ'}")
-        else:
-            print("âŒ è·¨CLIåä½œHookæœªæ‰¾åˆ°")
-            return False
-
-        # æ£€æŸ¥é€‚é…å™¨æ–‡ä»¶
-        adapter_dir = os.path.dirname(QODER_CONFIG_FILE)
-        required_files = ["notification_hook_adapter.py"]
-        missing_files = []
-
-        for file_name in required_files:
-            file_path = os.path.join(adapter_dir, file_name)
-            if not os.path.exists(file_path):
-                missing_files.append(file_name)
-
-        if missing_files:
-            print(f"âŒ ç¼ºå¤±é€‚é…å™¨æ–‡ä»¶: {missing_files}")
-            return False
-        else:
-            print("âœ… é€‚é…å™¨æ–‡ä»¶å·²å¤åˆ¶")
-
-        return True
-    except Exception as e:
-        print(f"âŒ éªŒè¯å¤±è´¥: {e}")
-        return False
-
-def uninstall_qoder_integration():
-    """å¸è½½Qoderé›†æˆ"""
-    try:
-        # å¤‡ä»½ç°æœ‰é…ç½®
-        if os.path.exists(QODER_CONFIG_FILE):
-            backup_file = f"{QODER_CONFIG_FILE}.backup_{datetime.now().strftime('%Y%m%d_%H%M%S')}"
-            shutil.copy2(QODER_CONFIG_FILE, backup_file)
-            print(f"ğŸ“¦ å·²å¤‡ä»½ç°æœ‰é…ç½®: {backup_file}")
-
-        # ç§»é™¤è·¨CLIåä½œHook
-        config_updated = False
-        if os.path.exists(QODER_CONFIG_FILE):
-            with open(QODER_CONFIG_FILE, 'r+', encoding='utf-8') as f:
-                config = json.load(f)
-                hooks = config.get('hooks', [])
-
-                # ç§»é™¤è·¨CLIåä½œHook
-                hooks = [hook for hook in hooks if hook.get('name') != 'CrossCLINotificationHook']
-
-                config['hooks'] = hooks
-
-                f.seek(0)
-                f.truncate()
-                json.dump(config, f, indent=2, ensure_ascii=False)
-                config_updated = True
-
-            print(f"ğŸ—‘ï¸ Qoderè·¨CLIåä½œé›†æˆå·²å¸è½½")
-        return True
-    except Exception as e:
-        print(f"âŒ å¸è½½å¤±è´¥: {e}")
-        return False
-
-def main():
-    parser = argparse.ArgumentParser(
-        description="Qoder CLIè·¨CLIåä½œé›†æˆå®‰è£…è„šæœ¬",
-        formatter_class=argparse.RawDescriptionHelpFormatter
-    )
-
-    parser.add_argument(
-        "--install",
-        action="store_true",
-        help="å®‰è£…Qoder CLIè·¨CLIåä½œé›†æˆ"
-    )
-
-    parser.add_argument(
-        "--verify",
-        action="store_true",
-        help="éªŒè¯Qoder CLIé›†æˆå®‰è£…"
-    )
-
-    parser.add_argument(
-        "--uninstall",
-        action="store_true",
-        help="å¸è½½Qoder CLIè·¨CLIåä½œé›†æˆ"
-    )
-
-    args = parser.parse_args()
-
-    print("ğŸ”§ Qoder CLIè·¨CLIåä½œé›†æˆå®‰è£…å™¨")
-    print("=" * 50)
-
-    if args.uninstall:
-        print("ğŸ—‘ï¸ å¸è½½æ¨¡å¼...")
-        success = uninstall_qoder_integration()
-    elif args.verify:
-        print("ğŸ” éªŒè¯æ¨¡å¼...")
-        success = verify_installation()
-    elif args.install or len(sys.argv) == 1:
-        print("ğŸ“¦ å®‰è£…æ¨¡å¼...")
-
-        # 1. å®‰è£…é…ç½®
-        config_success = install_qoder_hooks()
-
-        # 2. å¤åˆ¶é€‚é…å™¨æ–‡ä»¶
-        adapter_success = copy_adapter_file()
-
-        success = config_success and adapter_success
-
-        if success:
-            print("\nğŸ‰ Qoder CLIè·¨CLIåä½œé›†æˆå®‰è£…æˆåŠŸï¼")
-            print("\nğŸ“‹ å®‰è£…æ‘˜è¦:")
-            print(f"   âœ… é…ç½®æ–‡ä»¶: {QODER_CONFIG_FILE}")
-            print(f"   âœ… é€‚é…å™¨ç›®å½•: {os.path.dirname(QODER_CONFIG_FILE)}")
-            print(f"   âœ… è·¨CLIåä½œHook: å·²å¯ç”¨")
-
-            print("\nğŸš€ ä¸‹ä¸€æ­¥:")
-            print("   1. è¿è¡Œå…¶ä»–CLIå·¥å…·çš„å®‰è£…è„šæœ¬")
-            print("   2. ä½¿ç”¨ ai-cli-router deploy --all å®‰è£…æ‰€æœ‰å·¥å…·")
-            print("   3. ä½¿ç”¨ ai-cli-router init åˆå§‹åŒ–é¡¹ç›®")
-        else:
-            print("\nâŒ Qoder CLIè·¨CLIåä½œé›†æˆå®‰è£…å¤±è´¥")
-    else:
-        parser.print_help()
-
-if __name__ == "__main__":
+"""
+Qoder CLI Notification Hooké›†æˆå®‰è£…è„šæœ¬
+ä¸ºQoder CLIå®‰è£…è·¨CLIåä½œæ„ŸçŸ¥èƒ½åŠ›
+
+ä½¿ç”¨æ–¹æ³•ï¼š
+python install_qoder_integration.py [--verify|--uninstall]
+"""
+
+import os
+import sys
+import json
+import shutil
+import argparse
+from pathlib import Path
+from datetime import datetime
+
+# è·å–å½“å‰æ–‡ä»¶ç›®å½•
+current_dir = Path(__file__).parent
+project_root = current_dir.parent.parent.parent
+
+# Qoder CLIé…ç½®è·¯å¾„
+QODER_CONFIG_FILE = os.path.expanduser("~/.qoder/config.json")
+
+def install_qoder_hooks():
+    """å®‰è£…Qoder Notification Hooké…ç½®"""
+    # è¯»å–ç°æœ‰configé…ç½®
+    existing_config = {}
+    if os.path.exists(QODER_CONFIG_FILE):
+        try:
+            with open(QODER_CONFIG_FILE, 'r', encoding='utf-8') as f:
+                existing_config = json.load(f)
+        except Exception as e:
+            print(f"âš ï¸ è¯»å–ç°æœ‰configé…ç½®å¤±è´¥: {e}")
+            existing_config = {}
+
+    # å®šä¹‰è·¨CLIåä½œçš„Hooké…ç½®
+    cross_cli_hooks = {
+        "cross_cli_notification_hook": {
+            "name": "CrossCLINotificationHook",
+            "module": "src.adapters.qoder.notification_hook_adapter",
+            "class": "QoderNotificationHookAdapter",
+            "enabled": True,
+            "priority": 100,
+            "triggers": [
+                "on_command_execution",
+                "on_tool_detected",
+                "on_collaboration_request"
+            ],
+            "config": {
+                "cross_cli_enabled": True,
+                "supported_clis": ["claude", "gemini", "qwencode", "iflow", "codebuddy", "copilot"],
+                "auto_detect": True,
+                "timeout": 30,
+                "notification_channel": "file_system",
+                "error_handling": "continue"
+            }
+        }
+    }
+
+    # åˆå¹¶é…ç½®ï¼ˆä¿ç•™ç°æœ‰hooksï¼Œæ·»åŠ åä½œåŠŸèƒ½ï¼‰
+    merged_config = existing_config.copy()
+    if 'hooks' not in merged_config:
+        merged_config['hooks'] = []
+
+    # æ£€æŸ¥æ˜¯å¦å·²å­˜åœ¨è·¨CLIé€šçŸ¥Hook
+    existing_hook_names = [hook.get('name') for hook in merged_config.get('hooks', [])]
+    cross_cli_hook_name = "CrossCLINotificationHook"
+
+    if cross_cli_hook_name not in existing_hook_names:
+        merged_config['hooks'].append(cross_cli_hooks['cross_cli_notification_hook'])
+
+    # å†™å…¥é…ç½®æ–‡ä»¶
+    try:
+        with open(QODER_CONFIG_FILE, 'w', encoding='utf-8') as f:
+            json.dump(merged_config, f, indent=2, ensure_ascii=False)
+
+        print(f"âœ… Qoderé…ç½®å·²å®‰è£…: {QODER_CONFIG_FILE}")
+        print("ğŸ”— å·²å®‰è£…çš„Hook:")
+        for hook_name in [hook.get('name') for hook in merged_config.get('hooks', [])]:
+            if hook.get('enabled', False):
+                status = "âŒ"
+            else:
+                status = "âœ…"
+            print(f"   - {hook_name}: {status}")
+
+        return True
+    except Exception as e:
+        print(f"âŒ å®‰è£…Qoderé…ç½®å¤±è´¥: {e}")
+        return False
+
+def copy_adapter_file():
+    """å¤åˆ¶é€‚é…å™¨æ–‡ä»¶åˆ°Qoderé…ç½®ç›®å½•"""
+    try:
+        # åˆ›å»ºé€‚é…å™¨ç›®å½•
+        adapter_dir = os.path.dirname(QODER_CONFIG_FILE)
+        os.makedirs(adapter_dir, exist_ok=True)
+
+        # å¤åˆ¶é€‚é…å™¨æ–‡ä»¶
+        adapter_files = [
+            "notification_hook_adapter.py",
+            "standalone_qoder_adapter.py"
+        ]
+
+        for file_name in adapter_files:
+            src_file = current_dir / file_name
+            dst_file = os.path.join(adapter_dir, file_name)
+
+            if src_file.exists():
+                shutil.copy2(src_file, dst_file)
+                print(f"âœ… å¤åˆ¶é€‚é…å™¨æ–‡ä»¶: {file_name}")
+            else:
+                print(f"âš ï¸ é€‚é…å™¨æ–‡ä»¶ä¸å­˜åœ¨: {file_name}")
+
+        return True
+    except Exception as e:
+        print(f"âŒ å¤åˆ¶é€‚é…å™¨æ–‡ä»¶å¤±è´¥: {e}")
+        return False
+
+def verify_installation():
+    """éªŒè¯å®‰è£…æ˜¯å¦æˆåŠŸ"""
+    print("\nğŸ” éªŒè¯Qoder CLIé›†æˆå®‰è£…...")
+
+    # æ£€æŸ¥é…ç½®æ–‡ä»¶
+    if not os.path.exists(QODER_CONFIG_FILE):
+        print(f"âŒ é…ç½®æ–‡ä»¶ä¸å­˜åœ¨: {QODER_CONFIG_FILE}")
+        return False
+
+    try:
+        with open(QODER_CONFIG_FILE, 'r', encoding='utf-8') as f:
+            config = json.load(f)
+
+        hooks = config.get('hooks', [])
+        cross_cli_hook = None
+        for hook in hooks:
+            if hook.get('name') == 'CrossCLINotificationHook':
+                cross_cli_hook = hook
+                break
+
+        if cross_cli_hook:
+            print("âœ… è·¨CLIåä½œHookå·²å®‰è£…")
+            print(f"   - Hookåç§°: {cross_cli_hook.get('name')}")
+            print(f"   - å¯ç”¨çŠ¶æ€: {'âœ…' if cross_cli_hook.get('enabled') else 'âŒ'}")
+            print(f"   - æ”¯æŒçš„CLIå·¥å…·: {cross_cli_hook.get('config', {}).get('supported_clis', [])}")
+            print(f"   - è‡ªåŠ¨æ£€æµ‹: {'âœ…' if cross_cli_hook.get('config', {}).get('auto_detect') else 'âŒ'}")
+        else:
+            print("âŒ è·¨CLIåä½œHookæœªæ‰¾åˆ°")
+            return False
+
+        # æ£€æŸ¥é€‚é…å™¨æ–‡ä»¶
+        adapter_dir = os.path.dirname(QODER_CONFIG_FILE)
+        required_files = ["notification_hook_adapter.py"]
+        missing_files = []
+
+        for file_name in required_files:
+            file_path = os.path.join(adapter_dir, file_name)
+            if not os.path.exists(file_path):
+                missing_files.append(file_name)
+
+        if missing_files:
+            print(f"âŒ ç¼ºå¤±é€‚é…å™¨æ–‡ä»¶: {missing_files}")
+            return False
+        else:
+            print("âœ… é€‚é…å™¨æ–‡ä»¶å·²å¤åˆ¶")
+
+        return True
+    except Exception as e:
+        print(f"âŒ éªŒè¯å¤±è´¥: {e}")
+        return False
+
+def uninstall_qoder_integration():
+    """å¸è½½Qoderé›†æˆ"""
+    try:
+        # å¤‡ä»½ç°æœ‰é…ç½®
+        if os.path.exists(QODER_CONFIG_FILE):
+            backup_file = f"{QODER_CONFIG_FILE}.backup_{datetime.now().strftime('%Y%m%d_%H%M%S')}"
+            shutil.copy2(QODER_CONFIG_FILE, backup_file)
+            print(f"ğŸ“¦ å·²å¤‡ä»½ç°æœ‰é…ç½®: {backup_file}")
+
+        # ç§»é™¤è·¨CLIåä½œHook
+        config_updated = False
+        if os.path.exists(QODER_CONFIG_FILE):
+            with open(QODER_CONFIG_FILE, 'r+', encoding='utf-8') as f:
+                config = json.load(f)
+                hooks = config.get('hooks', [])
+
+                # ç§»é™¤è·¨CLIåä½œHook
+                hooks = [hook for hook in hooks if hook.get('name') != 'CrossCLINotificationHook']
+
+                config['hooks'] = hooks
+
+                f.seek(0)
+                f.truncate()
+                json.dump(config, f, indent=2, ensure_ascii=False)
+                config_updated = True
+
+            print(f"ğŸ—‘ï¸ Qoderè·¨CLIåä½œé›†æˆå·²å¸è½½")
+        return True
+    except Exception as e:
+        print(f"âŒ å¸è½½å¤±è´¥: {e}")
+        return False
+
+def main():
+    parser = argparse.ArgumentParser(
+        description="Qoder CLIè·¨CLIåä½œé›†æˆå®‰è£…è„šæœ¬",
+        formatter_class=argparse.RawDescriptionHelpFormatter
+    )
+
+    parser.add_argument(
+        "--install",
+        action="store_true",
+        help="å®‰è£…Qoder CLIè·¨CLIåä½œé›†æˆ"
+    )
+
+    parser.add_argument(
+        "--verify",
+        action="store_true",
+        help="éªŒè¯Qoder CLIé›†æˆå®‰è£…"
+    )
+
+    parser.add_argument(
+        "--uninstall",
+        action="store_true",
+        help="å¸è½½Qoder CLIè·¨CLIåä½œé›†æˆ"
+    )
+
+    args = parser.parse_args()
+
+    print("ğŸ”§ Qoder CLIè·¨CLIåä½œé›†æˆå®‰è£…å™¨")
+    print("=" * 50)
+
+    if args.uninstall:
+        print("[UNINSTALL] å¸è½½æ¨¡å¼...")
+        success = uninstall_qoder_integration()
+    elif args.verify:
+        print("ğŸ” éªŒè¯æ¨¡å¼...")
+        success = verify_installation()
+    elif args.install or len(sys.argv) == 1:
+        print("ğŸ“¦ å®‰è£…æ¨¡å¼...")
+
+        # 1. å®‰è£…é…ç½®
+        config_success = install_qoder_hooks()
+
+        # 2. å¤åˆ¶é€‚é…å™¨æ–‡ä»¶
+        adapter_success = copy_adapter_file()
+
+        success = config_success and adapter_success
+
+        if success:
+            print("\nğŸ‰ Qoder CLIè·¨CLIåä½œé›†æˆå®‰è£…æˆåŠŸï¼")
+            print("\nğŸ“‹ å®‰è£…æ‘˜è¦:")
+            print(f"   âœ… é…ç½®æ–‡ä»¶: {QODER_CONFIG_FILE}")
+            print(f"   âœ… é€‚é…å™¨ç›®å½•: {os.path.dirname(QODER_CONFIG_FILE)}")
+            print(f"   âœ… è·¨CLIåä½œHook: å·²å¯ç”¨")
+
+            print("\nğŸš€ ä¸‹ä¸€æ­¥:")
+            print("   1. è¿è¡Œå…¶ä»–CLIå·¥å…·çš„å®‰è£…è„šæœ¬")
+            print("   2. ä½¿ç”¨ ai-cli-router deploy --all å®‰è£…æ‰€æœ‰å·¥å…·")
+            print("   3. ä½¿ç”¨ ai-cli-router init åˆå§‹åŒ–é¡¹ç›®")
+        else:
+            print("\nâŒ Qoder CLIè·¨CLIåä½œé›†æˆå®‰è£…å¤±è´¥")
+    else:
+        parser.print_help()
+
+if __name__ == "__main__":
     main()
\ No newline at end of file
diff --git a/src/adapters/qwencode/install_qwencode_integration.py b/src/adapters/qwencode/install_qwencode_integration.py
index b881059..f05b70d 100644
--- a/src/adapters/qwencode/install_qwencode_integration.py
+++ b/src/adapters/qwencode/install_qwencode_integration.py
@@ -1,276 +1,276 @@
-"""
-QwenCode CLI Inheritanceé›†æˆå®‰è£…è„šæœ¬
-ä¸ºQwenCode CLIå®‰è£…è·¨CLIåä½œæ„ŸçŸ¥èƒ½åŠ›
-
-ä½¿ç”¨æ–¹æ³•ï¼š
-python install_qwencode_integration.py [--verify|--uninstall]
-"""
-
-import os
-import sys
-import json
-import shutil
-import argparse
-from pathlib import Path
-from datetime import datetime
-
-# è·å–å½“å‰æ–‡ä»¶ç›®å½•
-current_dir = Path(__file__).parent
-project_root = current_dir.parent.parent.parent
-
-# QwenCode CLIé…ç½®è·¯å¾„
-QWENCODE_CONFIG_DIR = os.path.expanduser("~/.config/qwencode")
-QWENCODE_CONFIG_FILE = os.path.join(QWENCODE_CONFIG_DIR, "config.yml")
-
-def create_qwencode_config_directory():
-    """åˆ›å»ºQwenCodeé…ç½®ç›®å½•"""
-    os.makedirs(QWENCODE_CONFIG_DIR, exist_ok=True)
-    print(f"âœ… åˆ›å»ºQwenCodeé…ç½®ç›®å½•: {QWENCODE_CONFIG_DIR}")
-
-def install_qwencode_plugins():
-    """å®‰è£…QwenCode Pluginé…ç½®"""
-    # è¯»å–ç°æœ‰configé…ç½®
-    existing_config = {}
-    if os.path.exists(QWENCODE_CONFIG_FILE):
-        try:
-            import yaml
-            with open(QWENCODE_CONFIG_FILE, 'r', encoding='utf-8') as f:
-                existing_config = yaml.safe_load(f) or {}
-        except Exception as e:
-            print(f"âš ï¸ è¯»å–ç°æœ‰configé…ç½®å¤±è´¥: {e}")
-            existing_config = {}
-
-    # å®šä¹‰è·¨CLIåä½œçš„Pluginé…ç½®
-    cross_cli_plugins = {
-        "cross_cli_inheritance_adapter": {
-            "name": "CrossCLIAdapterPlugin",
-            "module": "src.adapters.qwencode.inheritance_adapter",
-            "class": "QwenCodeInheritanceAdapter",
-            "enabled": True,
-            "priority": 100,
-            "base_class": "BaseQwenCodePlugin",
-            "handlers": [
-                "on_prompt_received",
-                "on_code_generated",
-                "on_error_occurred",
-                "on_file_created",
-                "on_before_save"
-            ],
-            "config": {
-                "cross_cli_enabled": True,
-                "supported_clis": ["claude", "gemini", "iflow", "qoder", "codebuddy", "copilot"],
-                "auto_detect": True,
-                "timeout": 30,
-                "error_handling": "continue",
-                "collaboration_mode": "active"
-            }
-        }
-    }
-
-    # åˆå¹¶é…ç½®ï¼ˆä¿ç•™ç°æœ‰é…ç½®ï¼Œæ·»åŠ åä½œåŠŸèƒ½ï¼‰
-    merged_config = existing_config.copy()
-    if 'plugins' not in merged_config:
-        merged_config['plugins'] = []
-
-    # æ£€æŸ¥æ˜¯å¦å·²å­˜åœ¨è·¨CLIæ’ä»¶
-    existing_plugins = merged_config.get('plugins', [])
-    cross_cli_plugin_exists = any(
-        plugin.get('name') == 'CrossCLIAdapterPlugin'
-        for plugin in existing_plugins
-    )
-
-    if not cross_cli_plugin_exists:
-        merged_config['plugins'].append(cross_cli_plugins['cross_cli_inheritance_adapter'])
-
-    # å†™å…¥configé…ç½®æ–‡ä»¶
-    try:
-        import yaml
-        with open(QWENCODE_CONFIG_FILE, 'w', encoding='utf-8') as f:
-            yaml.dump(merged_config, f, default_flow_style=False, allow_unicode=True)
-
-        print(f"âœ… QwenCodeé…ç½®å·²å®‰è£…: {QWENCODE_CONFIG_FILE}")
-        print("ğŸ”— å·²å®‰è£…çš„Plugin:")
-        for plugin in merged_config.get('plugins', []):
-            if plugin.get('name') == 'CrossCLIAdapterPlugin':
-                print(f"   - {plugin['name']}: âœ… è·¨CLIåä½œæ„ŸçŸ¥")
-
-        return True
-    except Exception as e:
-        print(f"âŒ å®‰è£…QwenCodeé…ç½®å¤±è´¥: {e}")
-        return False
-
-def copy_adapter_file():
-    """å¤åˆ¶é€‚é…å™¨æ–‡ä»¶åˆ°QwenCodeé…ç½®ç›®å½•"""
-    try:
-        # åˆ›å»ºé€‚é…å™¨ç›®å½•
-        adapter_dir = os.path.join(QWENCODE_CONFIG_DIR, "plugins")
-        os.makedirs(adapter_dir, exist_ok=True)
-
-        # å¤åˆ¶é€‚é…å™¨æ–‡ä»¶
-        adapter_files = [
-            "inheritance_adapter.py",
-            "standalone_qwencode_adapter.py"
-        ]
-
-        for file_name in adapter_files:
-            src_file = current_dir / file_name
-            dst_file = os.path.join(adapter_dir, file_name)
-
-            if src_file.exists():
-                shutil.copy2(src_file, dst_file)
-                print(f"âœ… å¤åˆ¶é€‚é…å™¨æ–‡ä»¶: {file_name}")
-            else:
-                print(f"âš ï¸ é€‚é…å™¨æ–‡ä»¶ä¸å­˜åœ¨: {file_name}")
-
-        return True
-    except Exception as e:
-        print(f"âŒ å¤åˆ¶é€‚é…å™¨æ–‡ä»¶å¤±è´¥: {e}")
-        return False
-
-def verify_installation():
-    """éªŒè¯å®‰è£…æ˜¯å¦æˆåŠŸ"""
-    print("\nğŸ” éªŒè¯QwenCode CLIé›†æˆå®‰è£…...")
-
-    # æ£€æŸ¥é…ç½®ç›®å½•
-    if not os.path.exists(QWENCODE_CONFIG_DIR):
-        print(f"âŒ é…ç½®ç›®å½•ä¸å­˜åœ¨: {QWENCODE_CONFIG_DIR}")
-        return False
-
-    # æ£€æŸ¥é…ç½®æ–‡ä»¶
-    if not os.path.exists(QWENCODE_CONFIG_FILE):
-        print(f"âŒ é…ç½®æ–‡ä»¶ä¸å­˜åœ¨: {QWENCODE_CONFIG_FILE}")
-        return False
-
-    # æ£€æŸ¥é€‚é…å™¨ç›®å½•
-    adapter_dir = os.path.join(QWENCODE_CONFIG_DIR, "plugins")
-    if not os.path.exists(adapter_dir):
-        print(f"âŒ é€‚é…å™¨ç›®å½•ä¸å­˜åœ¨: {adapter_dir}")
-        return False
-
-    # è¯»å–å¹¶éªŒè¯é…ç½®
-    try:
-        import yaml
-        with open(QWENCODE_CONFIG_FILE, 'r', encoding='utf-8') as f:
-            config = yaml.safe_load(f) or {}
-
-        plugins = config.get('plugins', [])
-        cross_cli_plugin = None
-
-        for plugin in plugins:
-            if plugin.get('name') == 'CrossCLIAdapterPlugin':
-                cross_cli_plugin = plugin
-                break
-
-        if cross_cli_plugin:
-            plugin_config = cross_cli_plugin.get('config', {})
-            if plugin_config.get('cross_cli_enabled'):
-                print("âœ… è·¨CLIåä½œæ’ä»¶: å·²å¯ç”¨")
-                print("âœ… æ”¯æŒçš„CLIå·¥å…·:")
-                supported_clis = plugin_config.get('supported_clis', [])
-                for cli in supported_clis:
-                    print(f"   - {cli}")
-                print("âœ… è‡ªåŠ¨æ£€æµ‹: å·²å¯ç”¨")
-                return True
-            else:
-                print("âš ï¸ è·¨CLIåä½œæ’ä»¶: æœªå¯ç”¨")
-                return False
-        else:
-            print("âŒ è·¨CLIåä½œæ’ä»¶: æœªæ‰¾åˆ°")
-            return False
-
-    except Exception as e:
-        print(f"âŒ éªŒè¯é…ç½®å¤±è´¥: {e}")
-        return False
-
-def uninstall_qwencode_integration():
-    """å¸è½½QwenCodeé›†æˆ"""
-    try:
-        # å¤‡ä»½ç°æœ‰é…ç½®
-        if os.path.exists(QWENCODE_CONFIG_FILE):
-            backup_file = f"{QWENCODE_CONFIG_FILE}.backup_{datetime.now().strftime('%Y%m%d_%H%M%S')}"
-            shutil.copy2(QWENCODE_CONFIG_FILE, backup_file)
-            print(f"ğŸ“¦ å·²å¤‡ä»½ç°æœ‰é…ç½®: {backup_file}")
-
-        # ç§»é™¤é€‚é…å™¨ç›®å½•
-        adapter_dir = os.path.join(QWENCODE_CONFIG_DIR, "plugins")
-        if os.path.exists(adapter_dir):
-            shutil.rmtree(adapter_dir)
-            print(f"ğŸ—‘ï¸ å·²åˆ é™¤é€‚é…å™¨ç›®å½•: {adapter_dir}")
-
-        print("âœ… QwenCodeé›†æˆå·²å¸è½½")
-        return True
-    except Exception as e:
-        print(f"âŒ å¸è½½å¤±è´¥: {e}")
-        return False
-
-def main():
-    parser = argparse.ArgumentParser(
-        description="QwenCode CLIè·¨CLIåä½œé›†æˆå®‰è£…è„šæœ¬",
-        formatter_class=argparse.RawDescriptionHelpFormatter
-    )
-
-    parser.add_argument(
-        "--install",
-        action="store_true",
-        help="å®‰è£…QwenCode CLIè·¨CLIåä½œé›†æˆ"
-    )
-
-    parser.add_argument(
-        "--verify",
-        action="store_true",
-        help="éªŒè¯QwenCode CLIé›†æˆå®‰è£…"
-    )
-
-    parser.add_argument(
-        "--uninstall",
-        action="store_true",
-        help="å¸è½½QwenCode CLIè·¨CLIåä½œé›†æˆ"
-    )
-
-    args = parser.parse_args()
-
-    print("ğŸš€ QwenCode CLIè·¨CLIåä½œé›†æˆå®‰è£…å™¨")
-    print("=" * 60)
-
-    if args.uninstall:
-        print("ğŸ—‘ï¸ å¸è½½æ¨¡å¼...")
-        success = uninstall_qwencode_integration()
-    elif args.verify:
-        print("ğŸ” éªŒè¯æ¨¡å¼...")
-        success = verify_installation()
-    elif args.install or len(sys.argv) == 1:
-        print("ğŸ“¦ å®‰è£…æ¨¡å¼...")
-
-        # 1. åˆ›å»ºé…ç½®ç›®å½•
-        print("1ï¸âƒ£ åˆ›å»ºé…ç½®ç›®å½•...")
-        create_qwencode_config_directory()
-
-        # 2. å®‰è£…æ’ä»¶é…ç½®
-        print("2ï¸âƒ£ å®‰è£…æ’ä»¶é…ç½®...")
-        config_success = install_qwencode_plugins()
-
-        # 3. å¤åˆ¶é€‚é…å™¨æ–‡ä»¶
-        print("3ï¸âƒ£ å¤åˆ¶é€‚é…å™¨æ–‡ä»¶...")
-        adapter_success = copy_adapter_file()
-
-        success = config_success and adapter_success
-
-        if success:
-            print("\nğŸ‰ QwenCode CLIé›†æˆå®‰è£…æˆåŠŸï¼")
-            print("\nğŸ“‹ å®‰è£…æ‘˜è¦:")
-            print(f"   âœ… é…ç½®ç›®å½•: {QWENCODE_CONFIG_DIR}")
-            print(f"   âœ… é…ç½®æ–‡ä»¶: {QWENCODE_CONFIG_FILE}")
-            print(f"   âœ… é€‚é…å™¨ç›®å½•: {os.path.join(QWENCODE_CONFIG_DIR, 'plugins')}")
-            print("   âœ… è·¨CLIåä½œ: å·²å¯ç”¨")
-
-            print("\nğŸš€ ä¸‹ä¸€æ­¥:")
-            print("   1. å®‰è£…å…¶ä»–CLIå·¥å…·çš„é›†æˆ: ai-cli-router deploy --all")
-            print("   2. åˆå§‹åŒ–é¡¹ç›®: ai-cli-router init")
-            print("   3. å¼€å§‹åä½œ: qwencode-cli 'è¯·ç”¨geminiå¸®æˆ‘åˆ†æä»£ç '")
-        else:
-            print("\nâŒ QwenCode CLIé›†æˆå®‰è£…å¤±è´¥ï¼Œè¯·æ£€æŸ¥é”™è¯¯ä¿¡æ¯")
-    else:
-        parser.print_help()
-
-if __name__ == "__main__":
+"""
+QwenCode CLI Inheritanceé›†æˆå®‰è£…è„šæœ¬
+ä¸ºQwenCode CLIå®‰è£…è·¨CLIåä½œæ„ŸçŸ¥èƒ½åŠ›
+
+ä½¿ç”¨æ–¹æ³•ï¼š
+python install_qwencode_integration.py [--verify|--uninstall]
+"""
+
+import os
+import sys
+import json
+import shutil
+import argparse
+from pathlib import Path
+from datetime import datetime
+
+# è·å–å½“å‰æ–‡ä»¶ç›®å½•
+current_dir = Path(__file__).parent
+project_root = current_dir.parent.parent.parent
+
+# QwenCode CLIé…ç½®è·¯å¾„
+QWENCODE_CONFIG_DIR = os.path.expanduser("~/.config/qwencode")
+QWENCODE_CONFIG_FILE = os.path.join(QWENCODE_CONFIG_DIR, "config.yml")
+
+def create_qwencode_config_directory():
+    """åˆ›å»ºQwenCodeé…ç½®ç›®å½•"""
+    os.makedirs(QWENCODE_CONFIG_DIR, exist_ok=True)
+    print(f"âœ… åˆ›å»ºQwenCodeé…ç½®ç›®å½•: {QWENCODE_CONFIG_DIR}")
+
+def install_qwencode_plugins():
+    """å®‰è£…QwenCode Pluginé…ç½®"""
+    # è¯»å–ç°æœ‰configé…ç½®
+    existing_config = {}
+    if os.path.exists(QWENCODE_CONFIG_FILE):
+        try:
+            import yaml
+            with open(QWENCODE_CONFIG_FILE, 'r', encoding='utf-8') as f:
+                existing_config = yaml.safe_load(f) or {}
+        except Exception as e:
+            print(f"âš ï¸ è¯»å–ç°æœ‰configé…ç½®å¤±è´¥: {e}")
+            existing_config = {}
+
+    # å®šä¹‰è·¨CLIåä½œçš„Pluginé…ç½®
+    cross_cli_plugins = {
+        "cross_cli_inheritance_adapter": {
+            "name": "CrossCLIAdapterPlugin",
+            "module": "src.adapters.qwencode.inheritance_adapter",
+            "class": "QwenCodeInheritanceAdapter",
+            "enabled": True,
+            "priority": 100,
+            "base_class": "BaseQwenCodePlugin",
+            "handlers": [
+                "on_prompt_received",
+                "on_code_generated",
+                "on_error_occurred",
+                "on_file_created",
+                "on_before_save"
+            ],
+            "config": {
+                "cross_cli_enabled": True,
+                "supported_clis": ["claude", "gemini", "iflow", "qoder", "codebuddy", "copilot"],
+                "auto_detect": True,
+                "timeout": 30,
+                "error_handling": "continue",
+                "collaboration_mode": "active"
+            }
+        }
+    }
+
+    # åˆå¹¶é…ç½®ï¼ˆä¿ç•™ç°æœ‰é…ç½®ï¼Œæ·»åŠ åä½œåŠŸèƒ½ï¼‰
+    merged_config = existing_config.copy()
+    if 'plugins' not in merged_config:
+        merged_config['plugins'] = []
+
+    # æ£€æŸ¥æ˜¯å¦å·²å­˜åœ¨è·¨CLIæ’ä»¶
+    existing_plugins = merged_config.get('plugins', [])
+    cross_cli_plugin_exists = any(
+        plugin.get('name') == 'CrossCLIAdapterPlugin'
+        for plugin in existing_plugins
+    )
+
+    if not cross_cli_plugin_exists:
+        merged_config['plugins'].append(cross_cli_plugins['cross_cli_inheritance_adapter'])
+
+    # å†™å…¥configé…ç½®æ–‡ä»¶
+    try:
+        import yaml
+        with open(QWENCODE_CONFIG_FILE, 'w', encoding='utf-8') as f:
+            yaml.dump(merged_config, f, default_flow_style=False, allow_unicode=True)
+
+        print(f"âœ… QwenCodeé…ç½®å·²å®‰è£…: {QWENCODE_CONFIG_FILE}")
+        print("ğŸ”— å·²å®‰è£…çš„Plugin:")
+        for plugin in merged_config.get('plugins', []):
+            if plugin.get('name') == 'CrossCLIAdapterPlugin':
+                print(f"   - {plugin['name']}: âœ… è·¨CLIåä½œæ„ŸçŸ¥")
+
+        return True
+    except Exception as e:
+        print(f"âŒ å®‰è£…QwenCodeé…ç½®å¤±è´¥: {e}")
+        return False
+
+def copy_adapter_file():
+    """å¤åˆ¶é€‚é…å™¨æ–‡ä»¶åˆ°QwenCodeé…ç½®ç›®å½•"""
+    try:
+        # åˆ›å»ºé€‚é…å™¨ç›®å½•
+        adapter_dir = os.path.join(QWENCODE_CONFIG_DIR, "plugins")
+        os.makedirs(adapter_dir, exist_ok=True)
+
+        # å¤åˆ¶é€‚é…å™¨æ–‡ä»¶
+        adapter_files = [
+            "inheritance_adapter.py",
+            "standalone_qwencode_adapter.py"
+        ]
+
+        for file_name in adapter_files:
+            src_file = current_dir / file_name
+            dst_file = os.path.join(adapter_dir, file_name)
+
+            if src_file.exists():
+                shutil.copy2(src_file, dst_file)
+                print(f"âœ… å¤åˆ¶é€‚é…å™¨æ–‡ä»¶: {file_name}")
+            else:
+                print(f"âš ï¸ é€‚é…å™¨æ–‡ä»¶ä¸å­˜åœ¨: {file_name}")
+
+        return True
+    except Exception as e:
+        print(f"âŒ å¤åˆ¶é€‚é…å™¨æ–‡ä»¶å¤±è´¥: {e}")
+        return False
+
+def verify_installation():
+    """éªŒè¯å®‰è£…æ˜¯å¦æˆåŠŸ"""
+    print("\nğŸ” éªŒè¯QwenCode CLIé›†æˆå®‰è£…...")
+
+    # æ£€æŸ¥é…ç½®ç›®å½•
+    if not os.path.exists(QWENCODE_CONFIG_DIR):
+        print(f"âŒ é…ç½®ç›®å½•ä¸å­˜åœ¨: {QWENCODE_CONFIG_DIR}")
+        return False
+
+    # æ£€æŸ¥é…ç½®æ–‡ä»¶
+    if not os.path.exists(QWENCODE_CONFIG_FILE):
+        print(f"âŒ é…ç½®æ–‡ä»¶ä¸å­˜åœ¨: {QWENCODE_CONFIG_FILE}")
+        return False
+
+    # æ£€æŸ¥é€‚é…å™¨ç›®å½•
+    adapter_dir = os.path.join(QWENCODE_CONFIG_DIR, "plugins")
+    if not os.path.exists(adapter_dir):
+        print(f"âŒ é€‚é…å™¨ç›®å½•ä¸å­˜åœ¨: {adapter_dir}")
+        return False
+
+    # è¯»å–å¹¶éªŒè¯é…ç½®
+    try:
+        import yaml
+        with open(QWENCODE_CONFIG_FILE, 'r', encoding='utf-8') as f:
+            config = yaml.safe_load(f) or {}
+
+        plugins = config.get('plugins', [])
+        cross_cli_plugin = None
+
+        for plugin in plugins:
+            if plugin.get('name') == 'CrossCLIAdapterPlugin':
+                cross_cli_plugin = plugin
+                break
+
+        if cross_cli_plugin:
+            plugin_config = cross_cli_plugin.get('config', {})
+            if plugin_config.get('cross_cli_enabled'):
+                print("[SUCCESS] è·¨CLIåä½œæ’ä»¶: å·²å¯ç”¨")
+                print("[SUCCESS] æ”¯æŒçš„CLIå·¥å…·:")
+                supported_clis = plugin_config.get('supported_clis', [])
+                for cli in supported_clis:
+                    print(f"   - {cli}")
+                print("[SUCCESS] è‡ªåŠ¨æ£€æµ‹: å·²å¯ç”¨")
+                return True
+            else:
+                print("[WARNING] è·¨CLIåä½œæ’ä»¶: æœªå¯ç”¨")
+                return False
+        else:
+            print("âŒ è·¨CLIåä½œæ’ä»¶: æœªæ‰¾åˆ°")
+            return False
+
+    except Exception as e:
+        print(f"âŒ éªŒè¯é…ç½®å¤±è´¥: {e}")
+        return False
+
+def uninstall_qwencode_integration():
+    """å¸è½½QwenCodeé›†æˆ"""
+    try:
+        # å¤‡ä»½ç°æœ‰é…ç½®
+        if os.path.exists(QWENCODE_CONFIG_FILE):
+            backup_file = f"{QWENCODE_CONFIG_FILE}.backup_{datetime.now().strftime('%Y%m%d_%H%M%S')}"
+            shutil.copy2(QWENCODE_CONFIG_FILE, backup_file)
+            print(f"ğŸ“¦ å·²å¤‡ä»½ç°æœ‰é…ç½®: {backup_file}")
+
+        # ç§»é™¤é€‚é…å™¨ç›®å½•
+        adapter_dir = os.path.join(QWENCODE_CONFIG_DIR, "plugins")
+        if os.path.exists(adapter_dir):
+            shutil.rmtree(adapter_dir)
+            print(f"ğŸ—‘ï¸ å·²åˆ é™¤é€‚é…å™¨ç›®å½•: {adapter_dir}")
+
+        print("âœ… QwenCodeé›†æˆå·²å¸è½½")
+        return True
+    except Exception as e:
+        print(f"âŒ å¸è½½å¤±è´¥: {e}")
+        return False
+
+def main():
+    parser = argparse.ArgumentParser(
+        description="QwenCode CLIè·¨CLIåä½œé›†æˆå®‰è£…è„šæœ¬",
+        formatter_class=argparse.RawDescriptionHelpFormatter
+    )
+
+    parser.add_argument(
+        "--install",
+        action="store_true",
+        help="å®‰è£…QwenCode CLIè·¨CLIåä½œé›†æˆ"
+    )
+
+    parser.add_argument(
+        "--verify",
+        action="store_true",
+        help="éªŒè¯QwenCode CLIé›†æˆå®‰è£…"
+    )
+
+    parser.add_argument(
+        "--uninstall",
+        action="store_true",
+        help="å¸è½½QwenCode CLIè·¨CLIåä½œé›†æˆ"
+    )
+
+    args = parser.parse_args()
+
+    print("[INSTALL] QwenCode CLIè·¨CLIåä½œé›†æˆå®‰è£…å™¨")
+    print("=" * 60)
+
+    if args.uninstall:
+        print("[UNINSTALL] å¸è½½æ¨¡å¼...")
+        success = uninstall_qwencode_integration()
+    elif args.verify:
+        print("[VERIFY] éªŒè¯æ¨¡å¼...")
+        success = verify_installation()
+    elif args.install or len(sys.argv) == 1:
+        print("[INSTALL] å®‰è£…æ¨¡å¼...")
+
+        # 1. åˆ›å»ºé…ç½®ç›®å½•
+        print("Step 1. åˆ›å»ºé…ç½®ç›®å½•...")
+        create_qwencode_config_directory()
+
+        # 2. å®‰è£…æ’ä»¶é…ç½®
+        print("Step 2. å®‰è£…æ’ä»¶é…ç½®...")
+        config_success = install_qwencode_plugins()
+
+        # 3. å¤åˆ¶é€‚é…å™¨æ–‡ä»¶
+        print("Step 3. å¤åˆ¶é€‚é…å™¨æ–‡ä»¶...")
+        adapter_success = copy_adapter_file()
+
+        success = config_success and adapter_success
+
+        if success:
+            print("\n[SUCCESS] QwenCode CLIé›†æˆå®‰è£…æˆåŠŸï¼")
+            print("\nğŸ“‹ å®‰è£…æ‘˜è¦:")
+            print(f"   [SUCCESS] é…ç½®ç›®å½•: {QWENCODE_CONFIG_DIR}")
+            print(f"   [SUCCESS] é…ç½®æ–‡ä»¶: {QWENCODE_CONFIG_FILE}")
+            print(f"   [SUCCESS] é€‚é…å™¨ç›®å½•: {os.path.join(QWENCODE_CONFIG_DIR, 'plugins')}")
+            print("   [SUCCESS] è·¨CLIåä½œ: å·²å¯ç”¨")
+
+            print("\n[INFO] ä¸‹ä¸€æ­¥:")
+            print("   1. å®‰è£…å…¶ä»–CLIå·¥å…·çš„é›†æˆ: ai-cli-router deploy --all")
+            print("   2. åˆå§‹åŒ–é¡¹ç›®: ai-cli-router init")
+            print("   3. å¼€å§‹åä½œ: qwencode-cli 'è¯·ç”¨geminiå¸®æˆ‘åˆ†æä»£ç '")
+        else:
+            print("\nâŒ QwenCode CLIé›†æˆå®‰è£…å¤±è´¥ï¼Œè¯·æ£€æŸ¥é”™è¯¯ä¿¡æ¯")
+    else:
+        parser.print_help()
+
+if __name__ == "__main__":
     main()
\ No newline at end of file
diff --git a/src/main.js b/src/main.js
index b872a10..b6ef037 100644
--- a/src/main.js
+++ b/src/main.js
@@ -173,6 +173,15 @@ class StigmergyCLIRouter {
         await fs.writeFile(dest, data);
     }
 
+    async directoryExists(dirPath) {
+        try {
+            const stat = await fs.stat(dirPath);
+            return stat.isDirectory();
+        } catch (error) {
+            return false;
+        }
+    }
+
     async deployAll(force = false) {
         console.log('ğŸš€ å¼€å§‹éƒ¨ç½²æ‰€æœ‰é€‚é…å™¨...');
 
@@ -209,8 +218,32 @@ class StigmergyCLIRouter {
     async initProject(projectPath = process.cwd()) {
         console.log('ğŸš€ åˆå§‹åŒ–Stigmergy CLIé¡¹ç›®...');
 
+        // éªŒè¯å¹¶ä¿®å¤è·¯å¾„ - ç¡®ä¿ä¸åœ¨ç³»ç»Ÿæ ¹ç›®å½•åˆ›å»ºé¡¹ç›®æ–‡ä»¶
+        let safeProjectPath = projectPath;
+        if (safeProjectPath === '/' || safeProjectPath === 'C:\\' || safeProjectPath === 'D:\\' ||
+            safeProjectPath === 'E:\\' || safeProjectPath.endsWith(':\\')) {
+            // å¦‚æœç”¨æˆ·åœ¨ç£ç›˜æ ¹ç›®å½•è¿è¡Œï¼Œåˆ›å»ºä¸€ä¸ªä¸“é—¨çš„é¡¹ç›®ç›®å½•
+            console.log('âš ï¸  æ£€æµ‹åˆ°åœ¨ç£ç›˜æ ¹ç›®å½•è¿è¡Œï¼Œå°†è‡ªåŠ¨åˆ›å»ºé¡¹ç›®ç›®å½•è¿›è¡Œåˆå§‹åŒ–');
+
+            // åˆ›å»ºå¸¦åºå·çš„é¡¹ç›®ç›®å½•
+            let projectDirName = 'ProjStig';
+            let counter = 1;
+            let targetDir = join(safeProjectPath, projectDirName);
+
+            // æ£€æŸ¥ç›®å½•æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœå­˜åœ¨åˆ™æ·»åŠ åºå·
+            while (await this.directoryExists(targetDir)) {
+                targetDir = join(safeProjectPath, `${projectDirName}${counter}`);
+                counter++;
+            }
+
+            // åˆ›å»ºé¡¹ç›®ç›®å½•
+            await fs.mkdir(targetDir, { recursive: true });
+            safeProjectPath = targetDir;
+            console.log(`ğŸ“ é¡¹ç›®ç›®å½•åˆ›å»ºæˆåŠŸ: ${safeProjectPath}`);
+        }
+
         // åˆ›å»ºé¡¹ç›®é…ç½®ç›®å½•
-        const projectConfigDir = join(projectPath, '.stigmergy-project');
+        const projectConfigDir = join(safeProjectPath, '.stigmergy-project');
         await fs.mkdir(projectConfigDir, { recursive: true });
 
         // ç”Ÿæˆé¡¹ç›®é…ç½®
@@ -245,7 +278,8 @@ class StigmergyCLIRouter {
 
         // ç”Ÿæˆå¢å¼ºçš„MDæ–‡æ¡£
         for (const adapter of availableAdapters) {
-            const mdPath = join(projectPath, `${adapter.name}.md`);
+            // ç¡®ä¿mdæ–‡ä»¶ç”Ÿæˆåœ¨é¡¹ç›®ç›®å½•ä¸­è€Œä¸æ˜¯ç³»ç»Ÿæ ¹ç›®å½•
+            const mdPath = join(safeProjectPath, `${adapter.name}.md`);
             const config = await this.loadAdapter(adapter.name);
 
             if (config.loaded) {
@@ -884,8 +918,32 @@ async function runQuickDeploy() {
             const projectPath = process.cwd();
             console.log('\nğŸš€ åˆå§‹åŒ–Stigmergy CLIé¡¹ç›®...');
 
+            // éªŒè¯å¹¶ä¿®å¤è·¯å¾„ - ç¡®ä¿ä¸åœ¨ç³»ç»Ÿæ ¹ç›®å½•åˆ›å»ºé¡¹ç›®æ–‡ä»¶
+            let safeProjectPath = projectPath;
+            if (safeProjectPath === '/' || safeProjectPath === 'C:\\' || safeProjectPath === 'D:\\' ||
+                safeProjectPath === 'E:\\' || safeProjectPath.endsWith(':\\')) {
+                // å¦‚æœç”¨æˆ·åœ¨ç£ç›˜æ ¹ç›®å½•è¿è¡Œï¼Œåˆ›å»ºä¸€ä¸ªä¸“é—¨çš„é¡¹ç›®ç›®å½•
+                console.log('âš ï¸  æ£€æµ‹åˆ°åœ¨ç£ç›˜æ ¹ç›®å½•è¿è¡Œï¼Œå°†è‡ªåŠ¨åˆ›å»ºé¡¹ç›®ç›®å½•è¿›è¡Œåˆå§‹åŒ–');
+
+                // åˆ›å»ºå¸¦åºå·çš„é¡¹ç›®ç›®å½•
+                let projectDirName = 'ProjStig';
+                let counter = 1;
+                let targetDir = join(safeProjectPath, projectDirName);
+
+                // æ£€æŸ¥ç›®å½•æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœå­˜åœ¨åˆ™æ·»åŠ åºå·
+                while (await this.directoryExists(targetDir)) {
+                    targetDir = join(safeProjectPath, `${projectDirName}${counter}`);
+                    counter++;
+                }
+
+                // åˆ›å»ºé¡¹ç›®ç›®å½•
+                await fs.mkdir(targetDir, { recursive: true });
+                safeProjectPath = targetDir;
+                console.log(`ğŸ“ é¡¹ç›®ç›®å½•åˆ›å»ºæˆåŠŸ: ${safeProjectPath}`);
+            }
+
             // åˆ›å»ºé¡¹ç›®é…ç½®ç›®å½•
-            const projectConfigDir = join(projectPath, '.stigmergy-project');
+            const projectConfigDir = join(safeProjectPath, '.stigmergy-project');
             await fs.mkdir(projectConfigDir, { recursive: true });
 
             // ç”Ÿæˆé¡¹ç›®é…ç½® - åªåŒ…å«å·²å®‰è£…çš„å·¥å…·
@@ -913,7 +971,8 @@ async function runQuickDeploy() {
 
             // ä¸ºæ‰€æœ‰å·²å®‰è£…çš„CLIç”Ÿæˆé…ç½®æ–‡æ¡£
             for (const cliInfo of availableCLIs) {
-                const mdPath = join(projectPath, `${cliInfo.name}.md`);
+                // ç¡®ä¿mdæ–‡ä»¶ç”Ÿæˆåœ¨é¡¹ç›®ç›®å½•ä¸­è€Œä¸æ˜¯ç³»ç»Ÿæ ¹ç›®å½•
+                const mdPath = join(safeProjectPath, `${cliInfo.name}.md`);
 
                 try {
                     // ä¸ºCLIç”ŸæˆåŸºæœ¬é…ç½®æ–‡æ¡£
