# WikiSkill æŠ€æœ¯å®ç°æ–¹æ¡ˆ

## ğŸ¯ æŠ€æœ¯æ ˆé€‰æ‹©

### å‰ç«¯æŠ€æœ¯æ ˆ
- **ç¼–è¾‘å™¨**: Monaco Editor (VS Codeç¼–è¾‘å™¨)
- **ååŒç¼–è¾‘**: Yjs + WebSocket
- **æ¡†æ¶**: Vue.js 3 + TypeScript
- **UIåº“**: Element Plus
- **æ„å»ºå·¥å…·**: Vite
- **çŠ¶æ€ç®¡ç†**: Pinia

### åç«¯æŠ€æœ¯æ ˆ
- **è¿è¡Œæ—¶**: Node.js 18+
- **æ¡†æ¶**: Express.js
- **æ•°æ®åº“**: MongoDB + Redis
- **å®æ—¶é€šä¿¡**: Socket.io
- **ç‰ˆæœ¬æ§åˆ¶**: simple-git (Git)
- **AIé›†æˆ**: OpenAI API / Claude API

### åŸºç¡€è®¾æ–½
- **å®¹å™¨åŒ–**: Docker + Docker Compose
- **ç¼–æ’**: Kubernetes
- **ç›‘æ§**: Prometheus + Grafana
- **æ—¥å¿—**: ELK Stack

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    WikiSkill ç³»ç»Ÿæ¶æ„                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚   å‰ç«¯å±‚     â”‚  â”‚   APIå±‚      â”‚  â”‚   ä¸šåŠ¡å±‚     â”‚         â”‚
â”‚  â”‚             â”‚  â”‚             â”‚  â”‚             â”‚         â”‚
â”‚  â”‚ â€¢ Vue.js    â”‚  â”‚ â€¢ Express   â”‚  â”‚ â€¢ æ ¸å¿ƒé€»è¾‘   â”‚         â”‚
â”‚  â”‚ â€¢ Monaco   â”‚  â”‚ â€¢ GraphQL   â”‚  â”‚ â€¢ å®¡æ ¸å¼•æ“   â”‚         â”‚
â”‚  â”‚ â€¢ Yjs       â”‚  â”‚ â€¢ Socket.io  â”‚  â”‚ â€¢ ç”Ÿæˆå™¨     â”‚         â”‚
â”‚  â”‚ â€¢ Pinia     â”‚  â”‚ â€¢ JWT       â”‚  â”‚ â€¢ åˆ†è§£å™¨     â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚   æ•°æ®å±‚     â”‚  â”‚   é›†æˆå±‚     â”‚  â”‚   å¤–éƒ¨æœåŠ¡     â”‚         â”‚
â”‚  â”‚             â”‚  â”‚             â”‚  â”‚             â”‚         â”‚
â”‚  â”‚ â€¢ MongoDB   â”‚  â”‚ â€¢ Git       â”‚  â”‚ â€¢ AI APIs    â”‚         â”‚
â”‚  â”‚ â€¢ Redis     â”‚  â”‚ â€¢ Claude    â”‚  â”‚ â€¢ Claude     â”‚         â”‚
â”‚  â”‚ â€¢ Mongoose  â”‚  â”‚ â€¢ OpenAI    â”‚  â”‚ â€¢ OpenAI     â”‚         â”‚
â”‚  â”‚ â€¢ IORedis    â”‚  â”‚ â€¢ Cache     â”‚  â”‚ â€¢ Cache     â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“¦ æ•°æ®æ¨¡å‹è®¾è®¡

### 1. æŠ€èƒ½å®šä¹‰æ¨¡å‹
```javascript
const skillSchema = new mongoose.Schema({
  name: {
    type: String,
    required: true,
    unique: true
  },
  description: {
    type: String,
    required: true
  },
  version: {
    type: String,
    default: '1.0.0'
  },
  status: {
    type: String,
    enum: ['draft', 'review', 'approved', 'deprecated'],
    default: 'draft'
  },
  content: {
    type: String,
    required: true
  },
  constraints: {
    input: [String],
    output: [String],
    process: [String],
    context: [String]
  },
  triggers: [{
    type: String,
    pattern: String,
    confidence: Number
  }],
  workflow: [{
    step: Number,
    action: String,
    tools: [String],
    parameters: Object
  }],
  code: {
    type: String,
    default: null
  },
  metadata: {
    author: String,
    created_at: Date,
    updated_at: Date,
    tags: [String],
    confidence: Number
  }
});
```

### 2. åä½œç¼–è¾‘æ¨¡å‹
```javascript
const collaborationSchema = new mongoose.Schema({
  skillId: {
    type: mongoose.Schema.Types.ObjectId,
    ref: 'Skill',
    required: true
  },
  userId: {
    type: String,
    required: true
  },
  userName: {
    type: String,
    required: true
  },
  userColor: {
    type: String,
    default: '#007ACC'
  },
  cursor: {
    position: Number,
    selection: Object
  },
  lastActivity: {
    type: Date,
    default: Date.now
  },
  permissions: {
    type: String,
    enum: ['read', 'write', 'admin'],
    default: 'read'
  }
});
```

### 3. å®¡æ ¸è®°å½•æ¨¡å‹
```javascript
const auditSchema = new mongoose.Schema({
  skillId: {
    type: mongoose.Schema.Types.ObjectId,
    ref: 'Skill',
    required: true
  },
  prompt: {
    type: String,
    required: true
  },
  result: {
    state: {
      type: String,
      enum: ['pending', 'processing', 'approved', 'rejected', 'review_needed'],
      required: true
    },
    confidence: {
      overall: Number,
      constraints: Number,
      logic: Number,
      implementation: Number
    },
    feedback: {
      issues: [Object],
      suggestions: [Object],
      next_steps: [String]
    },
    timestamp: {
      type: Date,
      default: Date.now
  }
});
```

## ğŸ”§ æ ¸å¿ƒæœåŠ¡å®ç°

### 1. çº¦æŸå¯¹é½æœåŠ¡
```javascript
class ConstraintAlignmentService {
  constructor() {
    this.nlpClient = new NLPClient();
    this.patternMatcher = new PatternMatcher();
  }
  
  async alignConstraints(prompt) {
    // 1. æå–çº¦æŸæ¡ä»¶
    const constraints = await this.extractConstraints(prompt);
    
    // 2. æ£€æŸ¥é€»è¾‘ä¸€è‡´æ€§
    const consistency = await this.checkConsistency(constraints);
    
    // 3. æ¶ˆé™¤æ­§ä¹‰
    const disambiguated = await this.disambiguate(prompt, constraints);
    
    // 4. ç”Ÿæˆå¯¹é½åçš„æç¤ºè¯
    const aligned = await this.generateAlignedPrompt(disambiguated);
    
    return {
      original: prompt,
      constraints,
      consistency,
      aligned,
      timestamp: new Date().toISOString()
    };
  }
  
  async extractConstraints(prompt) {
    const constraints = {
      input: [],
      output: [],
      process: [],
      context: []
    };
    
    // ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æå–
    const patterns = await this.patternMatcher.matchPatterns(prompt);
    
    // ä½¿ç”¨NLPæ¨¡å‹æ·±åº¦åˆ†æ
    const nlpResult = await this.nlpClient.analyze({
      prompt: `è¯·è¯†åˆ«ä»¥ä¸‹æç¤ºè¯ä¸­çš„çº¦æŸæ¡ä»¶ï¼š${prompt}`,
      type: 'constraint_extraction'
    });
    
    // åˆå¹¶ç»“æœ
    return this.mergeConstraints(constraints, patterns, nlpResult);
  }
}
```

### 2. å®æ—¶ååŒæœåŠ¡
```javascript
class CollaborationService {
  constructor() {
    this.io = new Server();
    this.yjsDoc = new Doc();
    this.rooms = new Map();
  }
  
  async initialize() {
    this.io.on('connection', (socket) => {
      this.handleConnection(socket);
    });
  }
  
  handleConnection(socket) {
    socket.on('join-skill', async (data) => {
      const { skillId, userId } = data;
      
      // åŠ å…¥æˆ¿é—´
      socket.join(`skill-${skillId}`);
      
      // è·å–æˆ–åˆ›å»ºYjsæ–‡æ¡£
      if (!this.rooms.has(skillId)) {
        this.rooms.set(skillId, this.yjsDoc.getArray('content'));
      }
      
      // è®¾ç½®ç”¨æˆ·çŠ¶æ€
      const awareness = new Awareness(this.rooms.get(skillId));
      awareness.setLocalStateField('user', {
        id: userId,
        name: data.userName,
        color: data.userColor
      });
      
      // ç»‘å®šååŒç¼–è¾‘
      const binding = new MonacoBinding(
        this.rooms.get(skillId),
        socket
      );
      
      // å¹¿æ’­ç”¨æˆ·åŠ å…¥
      socket.to(`skill-${skillId}`).emit('user-joined', {
        userId,
        userName: data.userName
      });
    });
    
    socket.on('content-change', async (data) => {
      const { skillId, operation, content } = data;
      
      // åº”ç”¨å˜æ›´
      const yText = this.rooms.get(skillId);
      
      switch (operation.type) {
        case 'insert':
          yText.insert(operation.index, operation.length, content);
          break;
        case 'delete':
          yText.delete(operation.index, operation.length);
          break;
        case 'replace':
          yText.replace(operation.index, operation.length, content);
          break;
      }
      
      // å¹¿æ’­å˜æ›´
      socket.to(`skill-${skillId}`).emit('content-updated', {
        operation,
        source: userId
      });
    });
  }
}
```

### 3. å®¡æ ¸å¼•æ“æœåŠ¡
```javascript
class AuditEngine {
  constructor() {
    this.constraintAligner = new ConstraintAlignmentService();
    this.confidenceCalculator = new ConfidenceCalculator();
    this.feedbackGenerator = new FeedbackGenerator();
  }
  
  async auditPrompt(prompt, context) {
    // 1. çº¦æŸå¯¹é½
    const alignment = await this.constraintAligner.alignConstraints(prompt);
    
    // 2. è®¡ç®—ç½®ä¿¡åº¦
    const confidence = await this.confidenceCalculator.calculate(
      prompt,
      alignment
    );
    
    // 3. ç”Ÿæˆåé¦ˆ
    const feedback = await this.feedbackGenerator.generate(
      prompt,
      alignment,
      confidence
    );
    
    // 4. ç¡®å®šçŠ¶æ€
    const state = this.determineState(confidence);
    
    // 5. ä¿å­˜å®¡æ ¸è®°å½•
    const auditRecord = new AuditModel({
      prompt: prompt,
      result: {
        state,
        confidence,
        feedback
      },
      timestamp: new Date().toISOString()
    });
    
    await auditRecord.save();
    
    return {
      state,
      confidence,
      feedback,
      alignment
    };
  }
  
  determineState(confidence) {
    if (confidence.overall >= 0.9) {
      return 'approved';
    } else if (confidence.overall >= 0.7) {
      return 'review_needed';
    } else {
      return 'rejected';
    }
  }
}
```

### 4. ä»£ç ç”ŸæˆæœåŠ¡
```javascript
class CodeGenerationService {
  constructor() {
    this.templateEngine = new TemplateEngine();
    this.codeValidator = new CodeValidator();
    this.sandbox = new SecureSandbox();
  }
  
  async generateSkill(prompt, auditResult) {
    // æ£€æŸ¥æ˜¯å¦æ»¡è¶³ç”Ÿæˆæ¡ä»¶
    if (auditResult.confidence.overall < 0.9) {
      throw new Error('ç½®ä¿¡åº¦ä¸è¶³ï¼Œæ— æ³•è‡ªåŠ¨ç”Ÿæˆä»£ç ');
    }
    
    // 1. ç”Ÿæˆæ¨¡æ¿
    const template = await this.generateTemplate(auditResult);
    
    // 2. æ¸²æŸ“ä»£ç 
    const code = this.templateEngine.render(template, {
      prompt,
      constraints: auditResult.alignment.constraints,
      workflow: auditResult.alignment.workflow
    });
    
    // 3. å®‰å…¨éªŒè¯
    const validation = await this.codeValidator.validate(code);
    if (!validation.safe) {
      throw new Error('ç”Ÿæˆçš„ä»£ç å­˜åœ¨å®‰å…¨é£é™©');
    }
    
    // 4. æ²™ç®±æµ‹è¯•
    const testResult = await this.sandbox.execute(code);
    
    return {
      code,
      validation,
      testResult,
      confidence: auditResult.confidence.overall
    };
  }
  
  async generateTemplate(auditResult) {
    const templateType = this.determineTemplateType(auditResult);
    
    switch (templateType) {
      case 'simple_skill':
        return this.generateSimpleSkillTemplate(auditResult);
      case 'complex_skill':
        return this.generateComplexSkillTemplate(auditResult);
      case 'data_processing':
        return this.generateDataProcessingTemplate(auditResult);
      default:
        return this.generateGenericTemplate(auditResult);
    }
  }
}
```

## ğŸš€ éƒ¨ç½²æ–¹æ¡ˆ

### 1. å®¹å™¨åŒ–éƒ¨ç½²
```yaml
# docker-compose.yml
version: '3.8'

services:
  frontend:
    build: ./frontend
    ports:
      - "3000:3000"
    environment:
      - VITE_API_URL=http://backend:3001
    depends_on:
      - backend

  backend:
    build: ./backend
    ports:
      - "3001:3001"
    environment:
      - NODE_ENV=production
      - MONGODB_URI=mongodb://mongodb:27017/wikiskill
      - REDIS_URL=redis://redis:6379
    depends_on:
      - mongodb
      - redis

  mongodb:
    image: mongo:6.0
    ports:
      - "27017:27017"
    volumes:
      - mongodb_data:/data/db

  redis:
    image: redis:7-alpine
    ports:
      - "6379:6379"
    volumes:
      - redis_data:/data/redis
```

### 2. Kuberneteséƒ¨ç½²
```yaml
# k8s-deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: wikiskill-backend
spec:
  replicas: 3
  selector:
    matchLabels:
      app: wikiskill-backend
  template:
    metadata:
      labels:
        app: wikiskill-backend
    spec:
      containers:
      - name: backend
        image: wikiskill/backend:latest
        ports:
        - containerPort: 3001
        env:
        - name: NODE_ENV
          value: "production"
        - name: MONGODB_URI
          value: "mongodb://mongodb:27017/wikiskill"
        - name: REDIS_URL
          value: "redis://redis:6379"
        resources:
          requests:
            memory: "256Mi"
            cpu: "250m"
          limits:
            memory: "512Mi"
            cpu: "500m"
```

### 3. ç›‘æ§é…ç½®
```yaml
# prometheus.yml
global:
  scrape_interval: 15s

scrape_configs:
  - job_name: 'wikiskill-backend'
    static_configs:
      - targets: ['localhost:3001']
    metrics_path: '/metrics'
    scrape_interval: 5s
  - job_name: 'wikiskill-mongodb'
    static_configs:
      - targets: ['localhost:27017']
    metrics_path: '/metrics'
```

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–

### 1. æ•°æ®åº“ä¼˜åŒ–
```javascript
// MongoDBç´¢å¼•ä¼˜åŒ–
const skillSchema = new mongoose.Schema({
  // ... å…¶ä»–å­—æ®µ
});

// åˆ›å»ºå¤åˆç´¢å¼•
skillSchema.index({ name: 1, version: 1 });
skillSchema.index({ 'metadata.tags': 1 });
skillSchema.index({ status: 1, 'metadata.created_at': -1 });

// æŸ¥è¯¢ä¼˜åŒ–
skillSchema.pre(/^find/, function() {
  this.populate('metadata.author');
  this.select('name version status metadata.tags');
});
```

### 2. ç¼“å­˜ç­–ç•¥
```javascript
// Redisç¼“å­˜é…ç½®
class CacheService {
  constructor() {
    this.redis = new Redis({
      host: process.env.REDIS_HOST,
      port: process.env.REDIS_PORT
    });
  }
  
  async get(key) {
    const cached = await this.redis.get(key);
    if (cached) {
      return JSON.parse(cached);
    }
    return null;
  }
  
  async set(key, value, ttl = 3600) {
    await this.redis.setex(key, JSON.stringify(value), ttl);
  }
  
  async invalidatePattern(pattern) {
    const keys = await this.redis.keys(pattern);
    if (keys.length > 0) {
      await this.redis.del(keys);
    }
  }
}
```

### 3. å®æ—¶é€šä¿¡ä¼˜åŒ–
```javascript
// Socket.ioä¼˜åŒ–é…ç½®
const io = new Server({
  cors: {
    origin: process.env.FRONTEND_URL,
    methods: ["GET", "POST"]
  },
  transports: ['websocket', 'polling'],
  pingTimeout: 60000,
  pingInterval: 25000
});

// è¿æ¥æ± ç®¡ç†
io.adapter(createAdapter(pool({
  max: 100,
  min: 10,
  acquireTimeoutMillis: 30000,
  idleTimeoutMillis: 30000
}));
```

## ğŸ”’ å®‰å…¨æªæ–½

### 1. è¾“å…¥éªŒè¯
```javascript
class InputValidator {
  constructor() {
    this.sanitizer = new Sanitizer();
    this.validator = new Validator();
  }
  
  validatePrompt(prompt) {
    // 1. è¾“å…¥æ¸…ç†
    const sanitized = this.sanitizer.clean(prompt);
    
    // 2. é•¿åº¦æ£€æŸ¥
    if (sanitized.length > 10000) {
      throw new Error('æç¤ºè¯é•¿åº¦ä¸èƒ½è¶…è¿‡10000å­—ç¬¦');
    }
    
    // 3. å†…å®¹æ£€æŸ¥
    const dangerousPatterns = [
      /<script[^>]*<\/script>/gi,
      /javascript:/gi,
      /eval\s*\(/gi
    ];
    
    for (const pattern of dangerousPatterns) {
      if (pattern.test(sanitized)) {
        throw new Error('æç¤ºè¯åŒ…å«ä¸å®‰å…¨å†…å®¹');
      }
    }
    
    return sanitized;
  }
}
```

### 2. æƒé™æ§åˆ¶
```javascript
class PermissionManager {
  constructor() {
    this.rbac = new RBAC();
  }
  
  hasPermission(userId, resource, action) {
    const permission = `${resource}:${action}`;
    return this.rbac.can(userId, permission);
  }
  
  async checkPermission(userId, resource, action) {
    const hasPermission = this.hasPermission(userId, resource, action);
    
    if (!hasPermission) {
      throw new PermissionError(`ç”¨æˆ· ${userId} æ²¡æœ‰æƒé™ ${action} ${resource}`);
    }
    
    // è®°å½•æƒé™æ£€æŸ¥æ—¥å¿—
    await this.logPermissionCheck(userId, resource, action, true);
    
    return true;
  }
}
```

### 3. ä»£ç å®‰å…¨æ£€æŸ¥
```javascript
class SecurityChecker {
  constructor() {
    this.analyzer = new CodeAnalyzer();
    this.sandbox = new SecureSandbox();
  }
  
  async checkCode(code) {
    // 1. é™æ€åˆ†æ
    const staticAnalysis = await this.analyzer.analyze(code);
    
    if (!staticAnalysis.safe) {
      return {
        safe: false,
        issues: staticAnalysis.issues
      };
    }
    
    // 2. æ²™ç®±æµ‹è¯•
    const sandboxResult = await this.sandbox.execute(code);
    
    return {
      safe: sandboxResult.safe,
      issues: staticAnalysis.issues,
      execution: sandboxResult
    };
  }
}
```

## ğŸ“ˆ æµ‹è¯•ç­–ç•¥

### 1. å•å…ƒæµ‹è¯•
```javascript
// æµ‹è¯•çº¦æŸå¯¹é½æœåŠ¡
describe('ConstraintAlignmentService', () => {
  let service;
  
  beforeEach(() => {
    service = new ConstraintAlignmentService();
  });
  
  describe('alignConstraints', () => {
    it('should align constraints correctly', async () => {
      const prompt = 'ç¿»è¯‘è¿™æ®µä»£ç åˆ°Python';
      const result = await service.alignConstraints(prompt);
      
      expect(result.constraints.input).toContain('ä»£ç ');
      expect(result.constraints.output).toContain('Python');
      expect(result.consistency.consistent).toBe(true);
    });
    
    it('should handle ambiguous prompts', async () => {
      const prompt = 'å¤„ç†è¿™ä¸ª';
      const result = await service.alignConstraints(prompt);
      
      expect(result.aligned).toContain('è¯·æ˜ç¡®æŒ‡å®šå¤„ç†ç›®æ ‡');
      expect(result.consistency.issues.length).toBeGreaterThan(0);
    });
  });
});
```

### 2. é›†æˆæµ‹è¯•
```javascript
// æµ‹è¯•å®Œæ•´æµç¨‹
describe('WikiSkill Integration', () => {
  let system;
  
  beforeEach(() => {
    system = new WikiSkillSystem();
  });
  
  describe('end-to-end skill processing', () => {
    it('should process high-confidence prompt successfully', async () => {
      const prompt = 'åˆ›å»ºä¸€ä¸ªç¿»è¯‘æŠ€èƒ½ï¼Œæ”¯æŒä¸­è‹±æ–‡äº’è¯‘';
      const result = await system.processSkillPrompt(prompt);
      
      expect(result.success).toBe(true);
      expect(result.generatedCode).toBeTruthy();
      expect(result.auditResult.state).toBe('approved');
    });
    
    it('should handle low-confidence prompt with feedback', async () => {
      const prompt = 'åšç‚¹ä»€ä¹ˆ';
      const result = await system.processSkillPrompt(prompt);
      
      expect(result.success).toBe(false);
      expect(result.auditResult.state).toBe('rejected');
      expect(result.suggestions.length).toBeGreaterThan(0);
    });
  });
});
```

### 3. æ€§èƒ½æµ‹è¯•
```javascript
// æµ‹è¯•å¹¶å‘æ€§èƒ½
describe('Performance Tests', () => {
  describe('concurrent editing', () => {
    it('should handle 100 concurrent users', async () => {
      const users = Array(100).fill().map((_, i) => ({
        id: `user_${i}`,
        userName: `User ${i}`,
        userColor: `#${Math.floor(Math.random()*16777215).toString(16)}`
      }));
      
      const startTime = Date.now();
      
      // æ¨¡æ‹Ÿå¹¶å‘è¿æ¥
      const connections = users.map(user => 
        simulateWebSocketConnection(user)
      );
      
      await Promise.all(connections);
      
      const endTime = Date.now();
      const duration = endTime - startTime;
      
      expect(duration).toBeLessThan(5000);
    });
  });
});
```

## ğŸ“‹ å®æ–½è®¡åˆ’

### ç¬¬ä¸€é˜¶æ®µï¼ˆ1ä¸ªæœˆï¼‰
- [ ] æ ¸å¿ƒæ¶æ„æ­å»º
- [ ] åŸºç¡€ååŒç¼–è¾‘åŠŸèƒ½
- [ ] ç®€å•å®¡æ ¸æœºåˆ¶
- [ ] åŸºç¡€ä»£ç ç”Ÿæˆ

### ç¬¬äºŒé˜¶æ®µï¼ˆ1ä¸ªæœˆï¼‰
- [ ] é«˜çº§ç¼–è¾‘åŠŸèƒ½
- [ ] å®Œæ•´å®¡æ ¸æµç¨‹
- [ ] ä¸ç¡®å®šæ€§å¤„ç†
- [ ] ç”¨æˆ·æƒé™ç®¡ç†

### ç¬¬ä¸‰é˜¶æ®µï¼ˆ1ä¸ªæœˆï¼‰
- [ ] æ€§èƒ½ä¼˜åŒ–
- [ ] å®‰å…¨åŠ å›º
- [ ] ç›‘æ§å®Œå–„
- [ ] æ–‡æ¡£å®Œå–„

### ç¬¬å››é˜¶æ®µï¼ˆ1ä¸ªæœˆï¼‰
- [ ] é«˜çº§åŠŸèƒ½æ‰©å±•
- [ ] ç¬¬ä¸‰æ–¹é›†æˆ
- [ ] ä¼ä¸šçº§åŠŸèƒ½
- [ ] ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

---

**å®æ–½å›¢é˜Ÿ**ï¼šWikiSkillæŠ€æœ¯å›¢é˜Ÿ  
**å®æ–½æ—¥æœŸ**ï¼š2025å¹´12æœˆ  
**ç‰ˆæœ¬**ï¼šv1.0